{"version":3,"file":"js/app.cbcd87fe.js","mappings":"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","sources":["webpack://live2d-viewer-web/./src/App.vue?b5d1","webpack://live2d-viewer-web/./src/components/ModelList.vue?a47c","webpack://live2d-viewer-web/./src/utils/index.ts","webpack://live2d-viewer-web/./src/app/helpers.ts","webpack://live2d-viewer-web/./src/app/data.ts","webpack://live2d-viewer-web/./src/app/patches.ts","webpack://live2d-viewer-web/./src/app/zip.ts","webpack://live2d-viewer-web/./src/app/Filter.ts","webpack://live2d-viewer-web/./src/app/Live2DModel.ts","webpack://live2d-viewer-web/./src/tools/dragging.ts","webpack://live2d-viewer-web/./src/app/ModelLoadingState.ts","webpack://live2d-viewer-web/./src/app/ModelEntity.ts","webpack://live2d-viewer-web/./src/utils/storage.ts","webpack://live2d-viewer-web/./src/app/PixiApp.ts","webpack://live2d-viewer-web/./src/app/App.ts","webpack://live2d-viewer-web/./src/components/ModelList.vue?1af4","webpack://live2d-viewer-web/./src/components/ModelList.vue?2615","webpack://live2d-viewer-web/./src/components/ModelList.vue","webpack://live2d-viewer-web/./src/components/ModelCreation.vue?afd6","webpack://live2d-viewer-web/./src/components/ModelPicker.vue?73e3","webpack://live2d-viewer-web/./src/components/ModelPicker.vue?8f1c","webpack://live2d-viewer-web/./src/components/ModelPicker.vue?2a45","webpack://live2d-viewer-web/./src/components/ModelPicker.vue","webpack://live2d-viewer-web/./src/components/ModelCreation.vue?e4d3","webpack://live2d-viewer-web/./src/components/ModelCreation.vue?8cf8","webpack://live2d-viewer-web/./src/components/ModelCreation.vue","webpack://live2d-viewer-web/./src/components/ModelEditor.vue?ff07","webpack://live2d-viewer-web/./src/components/ModelEditor.vue?4aca","webpack://live2d-viewer-web/./src/components/ModelEditor.vue?1f6c","webpack://live2d-viewer-web/./src/components/ModelEditor.vue","webpack://live2d-viewer-web/./src/components/DropZone.vue?0315","webpack://live2d-viewer-web/./src/utils/arr.ts","webpack://live2d-viewer-web/./src/utils/file.ts","webpack://live2d-viewer-web/./src/app/upload.ts","webpack://live2d-viewer-web/./src/tools/Background.ts","webpack://live2d-viewer-web/./src/components/DropZone.vue?8347","webpack://live2d-viewer-web/./src/components/DropZone.vue?a42e","webpack://live2d-viewer-web/./src/components/DropZone.vue","webpack://live2d-viewer-web/./src/components/Settings.vue?a9c9","webpack://live2d-viewer-web/./src/components/Settings.vue?8f62","webpack://live2d-viewer-web/./src/components/Settings.vue?36da","webpack://live2d-viewer-web/./src/components/Settings.vue","webpack://live2d-viewer-web/./src/components/ModelInfo.vue?acd1","webpack://live2d-viewer-web/./src/components/ModelInfo.vue?6a08","webpack://live2d-viewer-web/./src/components/ModelInfo.vue?1b4f","webpack://live2d-viewer-web/./src/components/ModelInfo.vue","webpack://live2d-viewer-web/./src/App.vue?38a5","webpack://live2d-viewer-web/./src/App.vue?c311","webpack://live2d-viewer-web/./src/App.vue","webpack://live2d-viewer-web/./src/plugins/vuetify.ts","webpack://live2d-viewer-web/./src/main.ts","webpack://live2d-viewer-web/webpack/bootstrap","webpack://live2d-viewer-web/webpack/runtime/chunk loaded","webpack://live2d-viewer-web/webpack/runtime/compat get default export","webpack://live2d-viewer-web/webpack/runtime/define property getters","webpack://live2d-viewer-web/webpack/runtime/global","webpack://live2d-viewer-web/webpack/runtime/hasOwnProperty shorthand","webpack://live2d-viewer-web/webpack/runtime/make namespace object","webpack://live2d-viewer-web/webpack/runtime/node module decorator","webpack://live2d-viewer-web/webpack/runtime/jsonp chunk loading","webpack://live2d-viewer-web/webpack/startup"],"sourcesContent":["import { VApp } from 'vuetify/lib/components/VApp';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VBtnToggle } from 'vuetify/lib/components/VBtnToggle';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VFabTransition } from 'vuetify/lib/components/transitions';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VMain } from 'vuetify/lib/components/VMain';\nimport { VNavigationDrawer } from 'vuetify/lib/components/VNavigationDrawer';\nimport { VSnackbar } from 'vuetify/lib/components/VSnackbar';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\nimport { VTooltip } from 'vuetify/lib/components/VTooltip';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c(VApp,[_c(VNavigationDrawer,{attrs:{\"absolute\":\"\",\"stateless\":\"\",\"width\":_vm.drawerWidth},on:{\"transitionend\":function($event){!_vm.drawer && (_vm.drawerSwitch=true)}},model:{value:(_vm.drawer),callback:function ($$v) {_vm.drawer=$$v},expression:\"drawer\"}},[_c(VToolbar,{attrs:{\"color\":\"primary\"}},[_c(VToolbarTitle,[_vm._v(\"Live2D Viewer\")]),_c(VSpacer),_c(VBtnToggle,{attrs:{\"group\":\"\",\"rounded\":\"\"},model:{value:(_vm.tab),callback:function ($$v) {_vm.tab=$$v},expression:\"tab\"}},[_c(VBtn,{attrs:{\"icon\":\"\"}},[_c(VIcon,[_vm._v(\"mdi-cog\")])],1)],1),_c(VBtn,{staticClass:\"ml-1\",attrs:{\"icon\":\"\"},on:{\"click\":function($event){return _vm.showUI(false)}}},[_c(VIcon,[_vm._v(\"mdi-close\")])],1)],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.tab===undefined),expression:\"tab===undefined\"}],staticClass:\"model-page\"},[_c('div',{staticClass:\"header pa-3\"},[_c('div',{staticClass:\"d-flex align-center\"},[_c('div',{staticClass:\"text-h4\"},[_vm._v(_vm._s('#' + _vm.selectedModelID))]),_c(VSpacer),_c(VBtn,{staticClass:\"mr-n3\",attrs:{\"icon\":\"\",\"width\":\"48\",\"height\":\"48\"},on:{\"click\":function($event){_vm.creation.dialog=true}}},[_c(VIcon,[_vm._v(\"mdi-plus\")])],1)],1),_c(VTooltip,{attrs:{\"top\":\"\",\"disabled\":!_vm.selectedModelID},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on, attrs }){return [_c('div',_vm._g(_vm._b({class:['model-name mt-2 text-h5',{valid:_vm.selectedModelID}],on:{\"click\":function($event){_vm.selectedModelID&&(_vm.modelInfoDialog=true)}}},'div',attrs,false),on),[_vm._v(\" \"+_vm._s(_vm.selectedModelID ? _vm.modelName : 'Press + to create a model')+\" \")])]}}])},[_vm._v(\" Show info \")])],1),_c(VDivider),_c('ModelEditor',{attrs:{\"id\":_vm.selectedModelID,\"visible\":_vm.drawer&&_vm.tab===undefined}})],1),_c('Settings',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.tab===0),expression:\"tab===0\"}]})],1),_c(VMain,{style:({paddingLeft:`${_vm.drawerWidth}px !important`})},[_c(VContainer,{staticClass:\"pa-0 fill-height flex-column\",attrs:{\"fluid\":\"\"}},[_c(VSpacer),_c('ModelList',{attrs:{\"show\":_vm.modelList.visible},model:{value:(_vm.selectedModelID),callback:function ($$v) {_vm.selectedModelID=$$v},expression:\"selectedModelID\"}})],1),_c('ModelCreation',{on:{\"create\":function($event){_vm.selectedModelID=$event}},model:{value:(_vm.creation.dialog),callback:function ($$v) {_vm.$set(_vm.creation, \"dialog\", $$v)},expression:\"creation.dialog\"}}),_c('ModelInfo',{attrs:{\"id\":_vm.selectedModelID},model:{value:(_vm.modelInfoDialog),callback:function ($$v) {_vm.modelInfoDialog=$$v},expression:\"modelInfoDialog\"}})],1),_c(VFabTransition,[_c(VBtn,{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.drawerSwitch),expression:\"drawerSwitch\"}],attrs:{\"fab\":\"\",\"top\":\"\",\"left\":\"\",\"absolute\":\"\",\"dark\":\"\",\"color\":\"accent\"},on:{\"click\":function($event){return _vm.showUI(true)}}},[_c(VIcon,[_vm._v(\"mdi-plus\")])],1)],1),_c('DropZone',{on:{\"create\":function($event){_vm.selectedModelID=$event},\"error\":_vm.error}}),_c(VSnackbar,{attrs:{\"timeout\":_vm.snackbar.timeout},scopedSlots:_vm._u([{key:\"action\",fn:function({ attrs }){return [_c(VBtn,_vm._b({attrs:{\"icon\":\"\"},on:{\"click\":function($event){_vm.snackbar.visible=false}}},'v-btn',attrs,false),[_c(VIcon,[_vm._v(\"mdi-close\")])],1)]}}]),model:{value:(_vm.snackbar.visible),callback:function ($$v) {_vm.$set(_vm.snackbar, \"visible\", $$v)},expression:\"snackbar.visible\"}},[_vm._v(\" \"+_vm._s(_vm.snackbar.message)+\" \")])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VItem } from 'vuetify/lib/components/VItemGroup';\nimport { VItemGroup } from 'vuetify/lib/components/VItemGroup';\nimport { VProgressCircular } from 'vuetify/lib/components/VProgressCircular';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSheet } from 'vuetify/lib/components/VSheet';\nimport { VSlideYReverseTransition } from 'vuetify/lib/components/transitions';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTooltip } from 'vuetify/lib/components/VTooltip';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c(VSlideYReverseTransition,[(_vm.show&&_vm.models.length)?_c(VSheet,{staticClass:\"model-list\",attrs:{\"width\":\"100%\"}},[_c(VItemGroup,{staticClass:\"flex-grow-1\",attrs:{\"mandatory\":\"\",\"value\":_vm.selectedIndex},on:{\"change\":_vm.select}},[_c('transition-group',{staticClass:\"model-group d-flex pa-1 pa-xl-2\",attrs:{\"name\":\"move\"}},_vm._l((_vm.models),function(model,i){return _c(VItem,{key:model.id,scopedSlots:_vm._u([{key:\"default\",fn:function({ active, toggle }){return [_c(VCard,{staticClass:\"ma-1 ma-xl-2\",attrs:{\"color\":model.error?'#631f1f':active?'grey darken-2':'grey darken-3'},on:{\"click\":toggle}},[_c(VTooltip,{attrs:{\"top\":\"\",\"disabled\":!model.error},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on, attrs }){return [_c(VImg,_vm._g(_vm._b({attrs:{\"src\":model.thumbnail,\"width\":model.error?_vm.paneHeight:model.aspectRatio*_vm.paneHeight,\"height\":_vm.paneHeight},scopedSlots:_vm._u([{key:\"placeholder\",fn:function(){return [_c(VRow,{staticClass:\"fill-height ma-0\",attrs:{\"align\":\"center\",\"justify\":\"center\"}},[(!model.error)?_c(VProgressCircular,{attrs:{\"indeterminate\":\"\",\"color\":\"grey lighten-5\"}}):_c(VIcon,[_vm._v(\"mdi-alert-circle\")])],1)]},proxy:true}],null,true)},'v-img',attrs,false),on),[_c(VCardTitle,{staticClass:\"ml-1 pa-0 flex-nowrap text-subtitle-2 text-xl-subtitle-1\"},[_c('span',{staticClass:\"model-item-title text-truncate\"},[_vm._v(_vm._s('#' + model.id + ' ' + model.name))]),_c(VSpacer),(active)?_c(VBtn,{attrs:{\"icon\":\"\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.remove(model.id)}}},[_c(VIcon,{attrs:{\"size\":\"20\"}},[_vm._v(\"mdi-close\")])],1):_vm._e()],1)],1)]}}],null,true)},[_vm._v(\" \"+_vm._s(model.error)+\" \")])],1)]}}],null,true)})}),1)],1)],1):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export async function ping(url: string): Promise<boolean> {\n    try {\n        return (await fetch(url)).ok;\n    } catch (e) {\n        return false;\n    }\n}\n","export function isSettingsFileV2(file: string) {\n    return file.endsWith('model.json');\n}\n\nexport function isSettingsFileV3(file: string) {\n    return file.endsWith('model3.json');\n}\n\nexport function isSettingsFile(file: string) {\n    return isSettingsFileV2(file) || isSettingsFileV3(file);\n}\n\nexport function isMocFileV2(file: string) {\n    return file.endsWith('.moc');\n}\n\nexport function isMocFileV3(file: string) {\n    return file.endsWith('.moc3');\n}\n\nexport function isMocFile(file: string) {\n    return isMocFileV2(file) || isMocFileV3(file);\n}\n","import { CommonModelJSON } from '@/global';\nimport { isMocFile, isSettingsFile } from './helpers';\n\ndeclare const __SOURCE_REPOSITORIES__: string[];\n\nexport interface TreeNode {\n    id: number;\n    name: string;\n    children?: TreeNode[];\n    files?: string[];\n    error?: any;\n    modelCount: number;\n}\n\nlet uid = 0;\n\nconst JSDELIVR_PREFIX = 'https://cdn.jsdelivr.net/gh/';\n\nconst tasks = new Map<TreeNode, Promise<void>>();\n\nconst rootNodes: TreeNode[] = __SOURCE_REPOSITORIES__.map(repo => ({\n    id: uid++,\n    name: repo,\n    children: [],\n    files: [],\n    modelCount: 0,\n}));\n\nconst settingsJSONs: Record<string, CommonModelJSON> = {};\n\n// preload\nrootNodes.forEach(loadRootNode);\n\nexport function getRootNodes(): TreeNode[] {\n    return rootNodes;\n}\n\nexport function loadRootNode(node: TreeNode): Promise<void> {\n    if (!rootNodes.includes(node)) {\n        return Promise.resolve();\n    }\n\n    if (!tasks.get(node)) {\n        const task = fetch(node.name.toLowerCase().replace('/', '') + '.json')\n            .then(res => res.json())\n            .then(data => {\n                node.name = data.models.name;\n                node.children = data.models.children;\n                node.files = data.models.files;\n\n                traverseNode(node, n => n.id = uid++);\n                countModels(node);\n\n                Object.assign(settingsJSONs, data.settings);\n            })\n            .catch(e => node.error = e);\n\n        tasks.set(node, task);\n\n        return task;\n    }\n\n    return tasks.get(node)!;\n}\n\nfunction countModels(node: TreeNode): number {\n    node.modelCount = node.files?.length || 0;\n\n    for (const child of node.children || []) {\n        node.modelCount += countModels(child);\n    }\n\n    return node.modelCount;\n}\n\nexport function traverseNode(node: TreeNode, fn: (node: TreeNode) => void) {\n    fn(node);\n\n    if (node.children) {\n        for (const child of node.children) {\n            traverseNode(child, fn);\n        }\n    }\n}\n\nexport function getFileURL(folder: TreeNode, file: string): string | undefined {\n    const folderPath = getNodePath(folder);\n\n    if (folderPath) {\n        let filePath = encodeURI(folderPath + '/' + file);\n\n        return JSDELIVR_PREFIX + filePath;\n    }\n}\n\n/**\n * Converts the jsDelivr URL to GitHub's raw URL.\n * \n * - `https://cdn.jsdelivr.net/gh/<repo>/<file>`\n * - `https://raw.githubusercontent.com/<repo>/master/<file>`\n */\nexport function getAlternativeURL(url: string): string {\n    const repoAndFile = url.replace(JSDELIVR_PREFIX, '');\n    const names = repoAndFile.split('/');\n    const repo = names.slice(0, 2).join('/');\n    const file = names.slice(2).join('/');\n\n    return `https://raw.githubusercontent.com/${repo}/master/${file}`;\n}\n\nexport function getNodePath(node: TreeNode): string | undefined {\n    const search = (nodes: TreeNode[]): string | undefined => {\n        for (const _node of nodes) {\n            if (_node === node) {\n                return _node.name;\n            }\n\n            if (_node.children) {\n                const subPath = search(_node.children);\n\n                if (subPath) {\n                    return _node.name + '/' + subPath;\n                }\n            }\n        }\n    };\n\n    return search(rootNodes);\n}\n\nexport function validateURL(url: string): string | undefined {\n    if (isSettingsFile(url) || url.endsWith('.zip')) {\n        return;\n    }\n\n    if (isMocFile(url)) {\n        if (getSettingsJSON(url)) {\n            return;\n        }\n\n        return 'Error: Cannot display a moc file that doesn\\'t belong to any source repository';\n    }\n\n    return 'Warning: Unknown URL type. The model may not be loaded correctly';\n}\n\nexport function getSettingsJSON(mocURL: string): CommonModelJSON | undefined {\n    if (mocURL.startsWith(JSDELIVR_PREFIX)) {\n        let mocFile = mocURL.replace(JSDELIVR_PREFIX, '');\n\n        mocFile = decodeURI(mocFile);\n\n        return settingsJSONs[mocFile];\n    }\n}\n","import {\n    Cubism2ModelSettings,\n    Cubism2Spec,\n    Cubism4InternalModel,\n    Cubism4ModelSettings,\n    CubismSpec,\n    InternalModel,\n    Live2DFactory,\n    Live2DFactoryContext,\n    Live2DLoader,\n    XHRLoader,\n    folderName,\n} from 'pixi-live2d-display';\nimport JSON5 from 'json5';\nimport { ping } from '@/utils';\nimport { snakeCase, unionBy } from 'lodash-es';\nimport { url as urlUtils } from '@pixi/utils';\nimport { getAlternativeURL, getSettingsJSON } from './data';\nimport { CommonModelJSON } from '@/global';\nimport { isMocFile, isMocFileV3 } from './helpers';\n\n// replace the XHRLoader to handle failures\nLive2DLoader.middlewares[Live2DLoader.middlewares.indexOf(XHRLoader.loader)] = async (context, next) => {\n    const url = context.settings ? context.settings.resolveURL(context.url) : context.url;\n\n    try {\n        await XHRLoader.loader(context, next);\n        return;\n    } catch (e) {\n        if (!(e && (e as any).status === 403 && url.includes('jsdelivr'))) {\n            throw e;\n        }\n\n        console.warn('Received 403 response from jsDelivr, switching to the alternative URL');\n    }\n\n    context.url = getAlternativeURL(url);\n\n    await XHRLoader.loader(context, next);\n\n    return next();\n};\n\n// replace the default urlToJSON middleware\nLive2DFactory.live2DModelMiddlewares[Live2DFactory.live2DModelMiddlewares.indexOf(Live2DFactory.urlToJSON)] = urlToJSON;\n\nconst defaultInit = (InternalModel.prototype as any).init as () => void;\n\n(InternalModel.prototype as any).init = async function () {\n    await patchInternalModel(this);\n    defaultInit.call(this);\n};\n\nasync function urlToJSON(context: Live2DFactoryContext, next: (err?: any) => Promise<void>) {\n    if (typeof context.source === 'string') {\n\n        const url = context.source;\n\n        let json: CommonModelJSON;\n\n        if (isMocFile(url)) {\n            json = getSettingsJSON(url) as NonNullable<ReturnType<typeof getSettingsJSON>>;\n\n            if (!json) {\n                throw new Error('Cannot find settings JSON from moc');\n            }\n\n            if (isMocFileV3(url)) {\n                json.url = urlUtils.resolve(url, 'dummy.model3.json');\n\n                const json3 = json as CubismSpec.ModelJSON;\n\n                json3.FileReferences.Moc = url;\n\n                // construct motion definitions from the plain string array\n                if (json3.FileReferences.Motions?.['']?.length && typeof json3.FileReferences.Motions[''][0] === 'string') {\n                    json3.FileReferences.Motions[''] = json3.FileReferences.Motions[''].map(\n                        motionFile => ({ File: motionFile as any as string }),\n                    );\n                }\n            } else {\n                json.url = urlUtils.resolve(url, 'dummy.model.json');\n\n                const json2 = json as Cubism2Spec.ModelJSON;\n\n                json2.model = url;\n\n                // construct motion definitions from the plain string array\n                if (json2.motions?.['']?.length && typeof json2.motions[''][0] === 'string') {\n                    json2.motions[''] = json2.motions[''].map(\n                        motionFile => ({ file: motionFile as any as string }),\n                    );\n                }\n            }\n        } else {\n            let jsonText = await fetch(url).then(res => res.text());\n\n            jsonText = replaceJSONText(jsonText, url);\n\n            // some JSONs are poorly formatted, but can possibly be parsed by JSON5\n            json = JSON5.parse(jsonText);\n\n            json.url = url;\n        }\n\n        await patchJSON(json, url);\n\n        setSingleMotionAsIdle(json);\n\n        context.source = json;\n\n        console.log(json);\n\n        context.live2dModel.emit('settingsJSONLoaded', json);\n    }\n\n    return next();\n}\n\nfunction replaceJSONText(jsonText: string, url: string) {\n    for (const patch of patches) {\n        if (url.includes(encodeURI(patch.search)) && patch.replace) {\n            jsonText = patch.replace(jsonText, url);\n        }\n    }\n\n    return jsonText;\n}\n\nasync function patchJSON(json: any, url: string) {\n    for (const patch of patches) {\n        if (url.includes(encodeURI(patch.search)) && patch.patch) {\n            await patch.patch(json, url);\n        }\n    }\n}\n\nexport async function patchInternalModel(internalModel: InternalModel) {\n    for (const patch of patches) {\n        if (internalModel.settings.url.includes(encodeURI(patch.search)) && patch.patchInternalModel) {\n            await patch.patchInternalModel(internalModel);\n        }\n    }\n}\n\nconst patches: {\n    search: string;\n    replace?: (jsonText: string, url: string) => string;\n    patch?: (json: any, url: string) => void | Promise<void>;\n    patchInternalModel?: (internalModel: any) => void | Promise<void>;\n}[] = [{\n    search: '', //  Horcrux College\n\n    replace(jsonText: string) {\n        // add missing commas\n        return jsonText.replace(/mtn\"([^,])/gm, 'mtn\",$1');\n    },\n\n    patch(json: Partial<Cubism2Spec.ModelJSON>) {\n        // `textures` is an object with a single value which is the real textures array,\n        // like { \"textures\": { '123': [\"texture_00.png\"] } }\n        if (json.textures && !Array.isArray(json.textures)) {\n            const realArray = Object.values(json.textures)[0] as string[];\n\n            if (Array.isArray(realArray)) {\n                json.textures = realArray\n                    // some paths are missing the folder prefix\n                    .map((tex: string) => tex.startsWith('textures/') ? tex : 'textures/' + tex);\n            }\n        }\n    },\n}, {\n    search: '', //  Girls Frontline\n\n    async patch(json: Partial<Cubism2Spec.ModelJSON>, url: string) {\n        extractCubism2IdleMotions(json, ['daiji']);\n\n        if (!json.name) {\n            // set a proper name\n            json.name = folderName(url.replace(/(normal|destroy).model.json/, ''));\n        }\n\n        // prefix paths of motion files\n        if (json.motions?.idle?.length) {\n            // only check and fix the first one\n            const motion0 = json.motions.idle[0] as Partial<Cubism2Spec.Motion>;\n\n            if (motion0.file?.startsWith('daiji')) {\n                const fileExists = await ping(urlUtils.resolve(url, motion0.file));\n\n                if (!fileExists) {\n                    // misplaced motion file\n                    motion0.file = 'motions/' + motion0.file;\n                }\n            }\n        }\n    },\n}, {\n    search: '', //  Unknown Bride\n\n    async patch(json: Partial<CubismSpec.ModelJSON>, url: string) {\n        // add missing textures\n        if (json.FileReferences?.Textures?.length === 0) {\n            const tex0Exists = await ping(urlUtils.resolve(url, 'textures/texture_00.png'));\n\n            json.FileReferences.Textures.push(\n                // two kinds of texture name\n                tex0Exists ? 'textures/texture_00.png' : 'textures/texture_00 .png',\n            );\n        }\n\n        // extract idle motions\n        extractCubism4IdleMotions(json, ['home', 'gacha']);\n    },\n}, {\n    search: '', // Nerco TokyoNerco\n\n    async patch(json: Partial<Cubism2Spec.ModelJSON | CubismSpec.ModelJSON>, url: string) {\n        // some textures are misplaced\n        const correctTexture = async (texture: string) => {\n            if (!await ping(urlUtils.resolve(url, texture))) {\n                return texture.replace('/texture', '/android/texture');\n            }\n\n            return texture;\n        };\n\n        if (Cubism2ModelSettings.isValidJSON(json)) {\n            if (json.textures) {\n                json.textures = await Promise.all(json.textures.map(correctTexture));\n            }\n\n            if (json.motions) {\n                // rename `File` to `file` in each motion\n                for (const motionGroup of Object.values(json.motions) as any[][]) {\n                    if (motionGroup?.length) {\n                        for (const motion of motionGroup) {\n                            motion.file = motion.file ?? motion.File;\n\n                            delete motion.File;\n                        }\n                    }\n                }\n\n                // some idle motions are misplaced in main group\n                if (!json.motions.idle?.length && json.motions['']) {\n                    json.motions.idle = json.motions[''].filter((motion: Cubism2Spec.Motion) => motion.file?.includes('loop'));\n                }\n            }\n        } else if (Cubism4ModelSettings.isValidJSON(json)) {\n            if (json.FileReferences?.Textures) {\n                json.FileReferences.Textures = await Promise.all(json.FileReferences.Textures.map(correctTexture));\n            }\n\n            if (json.FileReferences?.Motions) {\n                if (!json.FileReferences.Motions.Idle?.length && json.FileReferences.Motions['']) {\n                    json.FileReferences.Motions.Idle = json.FileReferences.Motions['']\n                        .filter((motion: CubismSpec.Motion) => motion.File?.includes('loop'));\n                }\n            }\n        }\n    },\n}, {\n    search: '', //  Destiny Child\n\n    patch(json: Partial<Cubism2Spec.ModelJSON>) {\n        if (json.motions?.['']?.length && !json.motions?.idle?.length) {\n            // deep clone all the motions as idle motion\n            json.motions.idle = json.motions?.[''].map(motion => ({ ...motion }));\n        }\n    },\n}, {\n    search: '', //  Azur Lane\n\n    patch(json: Partial<CubismSpec.ModelJSON>) {\n        extractCubism4IdleMotions(json, ['idle']);\n    },\n}, {\n    search: '', //  Girl Cafe Gun\n\n    patch(json: Partial<CubismSpec.ModelJSON>) {\n        extractCubism4IdleMotions(json, ['stand']);\n    },\n\n    patchInternalModel(internalModel: Cubism4InternalModel) {\n        // convert the case of parameter names\n        // e.g. ParamAngleX -> PARAM_ANGLE_X\n        for (const prop of Object.keys(internalModel) as (keyof Cubism4InternalModel)[]) {\n            if (prop.startsWith('idParam')) {\n                (internalModel as any)[prop] = snakeCase(internalModel[prop] as string).toUpperCase();\n            }\n        }\n    },\n}, {\n    search: 'princesses', // Sacred Sword Princesses\n\n    patch(json: Partial<Cubism2Spec.ModelJSON>) {\n        extractCubism2IdleMotions(json, ['default', 'loop']);\n    },\n}, {\n    search: '', // 2 Honkai Impact 2\n\n    patch(json: Partial<Cubism2Spec.ModelJSON>) {\n        removeSoundDefs(json);\n\n        // no empty name\n        if (json.name === '') {\n            delete json.name;\n        }\n    },\n}, {\n    search: '', //  Warship Girls\n\n    patch(json: Partial<Cubism2Spec.ModelJSON>) {\n        removeSoundDefs(json);\n    },\n}, {\n    search: '', //  Iron Saga\n\n    patch(json: Partial<Cubism2Spec.ModelJSON>) {\n        removeSoundDefs(json);\n    },\n}, {\n    search: '', //  Noah Fantasy\n\n    patch(json: Partial<Cubism2Spec.ModelJSON>) {\n        // just... don't name it \"model\"\n        if (json.name === 'model') {\n            delete json.name;\n        }\n    },\n}];\n\n/**\n * Sets a motion as the idle motion if it's the only one in this model.\n */\nfunction setSingleMotionAsIdle(json: Partial<CommonModelJSON>) {\n    const motions = (json as CubismSpec.ModelJSON).FileReferences?.Motions;\n\n    if (motions) {\n        if (!motions.Idle?.[0] && motions['']?.length === 1) {\n            // deep clone the array\n            motions.Idle = motions[''].map(motion => ({ ...motion }));\n        }\n    }\n}\n\n/**\n * Extracts non-standard idle motions into the \"idle\" group.\n *\n * @param json\n * @param keywords Strings in lowercase.\n */\nfunction extractCubism2IdleMotions(json: Partial<Cubism2Spec.ModelJSON>, keywords: string[]) {\n    if (json.motions) {\n        const idleMotions: Cubism2Spec.Motion[] = [];\n\n        for (const [group, motions] of Object.entries(json.motions)) {\n            if (group !== 'idle' && Array.isArray(motions)) {\n                for (const motion of motions) {\n                    for (const keyword of keywords) {\n                        if (motion.file && motion.file.toLowerCase().includes(keyword)) {\n                            idleMotions.push(motion);\n                        }\n                    }\n                }\n            }\n        }\n\n        if (idleMotions.length) {\n            json.motions.idle = unionBy(json.motions.idle, idleMotions, 'file');\n        }\n    }\n}\n\n/**\n * Extracts non-standard idle motions into the \"Idle\" group.\n *\n * @param json\n * @param keywords Strings in lowercase.\n */\nfunction extractCubism4IdleMotions(json: Partial<CubismSpec.ModelJSON>, keywords: string[]) {\n    if (json.FileReferences?.Motions) {\n        const idleMotions: CubismSpec.Motion[] = [];\n\n        for (const [group, motions] of Object.entries(json.FileReferences.Motions)) {\n            if (group !== 'Idle' && Array.isArray(motions)) {\n                for (const motion of motions) {\n                    for (const keyword of keywords) {\n                        if (motion.File && motion.File.toLowerCase().includes(keyword)) {\n                            idleMotions.push(motion);\n                        }\n                    }\n                }\n            }\n        }\n\n        if (idleMotions.length) {\n            json.FileReferences.Motions.Idle = unionBy(json.FileReferences.Motions.Idle, idleMotions, 'File');\n        }\n    }\n}\n\n/**\n * Some models have sound definitions, but the sound files are not appearing in the repository,\n * so it's better to remove them to reduce the amount of errors in console.\n */\nfunction removeSoundDefs(json: Partial<Cubism2Spec.ModelJSON>) {\n    if (json.motions) {\n        for (const motionGroup of Object.values(json.motions as Record<string, Cubism2Spec.Motion[]>)) {\n            if (motionGroup?.length) {\n                for (const motion of motionGroup) {\n                    motion.sound = undefined;\n                }\n            }\n        }\n    }\n}\n","import { ZipLoader } from 'pixi-live2d-display';\nimport JSZip from 'jszip';\n\nZipLoader.zipReader = (data: Blob, url: string) => JSZip.loadAsync(data);\n\nZipLoader.readText = (jsZip: JSZip, path: string) => {\n    const file = jsZip.file(path);\n\n    if (!file) {\n        throw new Error('Cannot find file: ' + path);\n    }\n\n    return file.async('text');\n};\n\nZipLoader.getFilePaths = (jsZip: JSZip) => {\n    const paths: string[] = [];\n\n    jsZip.forEach(relativePath => paths.push(relativePath));\n\n    return Promise.resolve(paths);\n};\n\nZipLoader.getFiles = (jsZip: JSZip, paths: string[]) =>\n    Promise.all(paths.map(\n        async path => {\n            const fileName = path.slice(path.lastIndexOf('/') + 1);\n\n            const blob = await jsZip.file(path)!.async('blob');\n\n            return new File([blob], fileName);\n        }));\n","import { PixelateFilter } from '@pixi/filter-pixelate';\nimport { OutlineFilter } from '@pixi/filter-outline';\nimport { AsciiFilter } from '@pixi/filter-ascii';\nimport { AlphaFilter } from '@pixi/filter-alpha';\nimport { CRTFilter } from '@pixi/filter-crt';\nimport { NoiseFilter } from '@pixi/filter-noise';\nimport { DisplayObject } from '@pixi/display';\n\nexport namespace Filter {\n    export const filters = {\n        Outline: new OutlineFilter(4),\n        Pixelate: new PixelateFilter(4),\n        CRT: new CRTFilter({\n            lineWidth: 3,\n            lineContrast: 0.3,\n            vignetting: 0,\n        }),\n        Noise: new NoiseFilter(0.4),\n        Ascii: new AsciiFilter(),\n        Alpha: new AlphaFilter(0.7),\n    };\n\n    export function set(target: DisplayObject, filterNames: (keyof typeof filters)[]) {\n        target.filters = [];\n\n        for (const name of filterNames) {\n            target.filters.push(filters[name]);\n        }\n    }\n\n    export function update(dt: number) {\n        filters.Noise.seed = Math.random();\n        filters.CRT.seed = Math.random();\n        filters.CRT.time += dt * 0.01;\n    }\n\n    export function release(target: DisplayObject) {\n        target.filters = [];\n    }\n}\n","import { Live2DFactoryContext, Live2DModel as BaseLive2DModel } from 'pixi-live2d-display';\nimport { HitAreaFrames } from 'pixi-live2d-display/extra';\nimport { Sprite } from '@pixi/sprite';\nimport { Texture, Renderer } from '@pixi/core';\nimport { Ticker } from '@pixi/ticker';\nimport './patches';\nimport './zip';\nimport { Filter } from '@/app/Filter';\n\nBaseLive2DModel.registerTicker(Ticker);\n\nexport class Live2DModel extends BaseLive2DModel {\n    factoryContext!: Live2DFactoryContext;\n\n    hitAreaFrames: HitAreaFrames;\n    background: Sprite;\n\n    backgroundVisible = false;\n\n    currentMotionStartTime = performance.now();\n    currentMotionDuration = 0;\n\n    constructor() {\n        super();\n\n        this.hitAreaFrames = new HitAreaFrames();\n        this.hitAreaFrames.visible = false;\n\n        this.background = Sprite.from(Texture.WHITE);\n        this.background.alpha = 0.2;\n        this.background.visible = false;\n\n        this.once('modelLoaded', this._init);\n    }\n\n    _init() {\n        this.addChild(this.hitAreaFrames);\n        this.addChild(this.background);\n\n        this.background.width = this.internalModel.width;\n        this.background.height = this.internalModel.height;\n\n        this.anchor.set(0.5, 0.5);\n\n        this.on('hit', this.startHitMotion);\n\n        this.internalModel.motionManager.on('motionStart', (group: string, index: number) => {\n            this.currentMotionStartTime = this.elapsedTime;\n            this.currentMotionDuration = 0;\n\n            const motion = this.internalModel.motionManager.motionGroups[group]?.[index];\n\n            if (motion) {\n                if ('_loopDurationSeconds' in motion) {\n                    this.currentMotionDuration = motion._loopDurationSeconds * 1000;\n                } else if ('getDurationMSec' in motion) {\n                    this.currentMotionDuration = motion.getDurationMSec();\n                }\n            }\n        });\n\n        const expressionManager = this.internalModel.motionManager.expressionManager;\n\n        if (expressionManager) {\n            const originalStartMotion = (expressionManager as any)._setExpression;\n\n            (expressionManager as any)._setExpression = (expression: any) => {\n                originalStartMotion.call(expressionManager, expression);\n\n                this.emit('expressionSet', expressionManager.expressions.indexOf(expression));\n            };\n\n            let reserveExpressionIndex = expressionManager.reserveExpressionIndex;\n\n            Object.defineProperty(expressionManager, 'reserveExpressionIndex', {\n                get: () => reserveExpressionIndex,\n                set: (index: number) => {\n                    reserveExpressionIndex = index;\n\n                    this.emit('expressionReserved', index);\n                },\n            });\n        }\n    }\n\n    startHitMotion(hitAreaNames: string[]) {\n        for (let area of hitAreaNames) {\n            area = area.toLowerCase();\n\n            const possibleGroups = [area, 'tap' + area, 'tap_' + area, 'tap'];\n\n            for (const possibleGroup of possibleGroups) {\n                for (let group of Object.keys(this.internalModel.motionManager.definitions)) {\n                    if (possibleGroup === group.toLowerCase()) {\n                        this.motion(group);\n                        return;\n                    }\n                }\n            }\n        }\n    }\n\n    updateTransform() {\n        super.updateTransform();\n\n        // since the background's `visible` is always false, we need to manually update its transform\n        if (this.backgroundVisible) {\n            this.background.updateTransform();\n        }\n    }\n\n    override _render(renderer: Renderer) {\n        // render background before the model\n        if (this.backgroundVisible) {\n            this.background.visible = true;\n\n            this.background.render(renderer);\n\n            this.background.visible = false;\n        }\n\n        super._render(renderer);\n    }\n\n    destroy(options?: { children?: boolean; texture?: boolean; baseTexture?: boolean }) {\n        super.destroy(options);\n\n        Filter.release(this);\n    }\n}\n","import { Live2DModel } from '@/app/Live2DModel';\nimport { InteractionEvent } from '@pixi/interaction';\n\nexport interface DraggableLive2DModel extends Live2DModel {\n    dragging: boolean;\n    _pointerX: number;\n    _pointerY: number;\n}\n\nexport function draggable(_model: Live2DModel) {\n    const model = _model as DraggableLive2DModel;\n\n    model.on(\"pointerdown\", onPointerDown);\n    model.on(\"pointermove\", onPointerMove);\n    model.on(\"pointerup\", onPointerUp);\n    model.on(\"pointerupoutside\", onPointerUp);\n}\n\nfunction onPointerDown(this: DraggableLive2DModel, e: InteractionEvent) {\n    this.dragging = true;\n    this._pointerX = e.data.global.x - this.x;\n    this._pointerY = e.data.global.y - this.y;\n}\n\nfunction onPointerMove(this: DraggableLive2DModel, e: InteractionEvent) {\n    if (this.dragging) {\n        this.position.x = e.data.global.x - this._pointerX;\n        this.position.y = e.data.global.y - this._pointerY;\n    }\n}\n\nfunction onPointerUp(this: DraggableLive2DModel, e: InteractionEvent) {\n    this.dragging = false;\n}\n","import { lowerCase } from 'lodash-es';\nimport { Live2DFactory } from \"pixi-live2d-display\";\nimport { Live2DModel } from './Live2DModel';\n\nconst enum StageState {\n    NOT_AVAILABLE, PENDING, COMPLETED, FAILED\n}\n\nLive2DFactory.live2DModelMiddlewares.unshift((context, next) => {\n    // save context to the model, this is ugly I know\n    (context.live2dModel as Live2DModel).factoryContext = context;\n\n    return next();\n});\n\nexport class ModelLoadingState {\n\n    stages = {\n        settingsJSON: StageState.PENDING,\n        settings: StageState.NOT_AVAILABLE,\n        textures: StageState.NOT_AVAILABLE,\n        internalModel: StageState.NOT_AVAILABLE,\n        pose: StageState.NOT_AVAILABLE,\n        physics: StageState.NOT_AVAILABLE,\n    };\n\n    text = '';\n\n    constructor() {\n        this.updateText();\n    }\n\n    watch(model: Live2DModel) {\n        model\n            .once('settingsJSONLoaded', () => this.complete('settingsJSON', model))\n            .once('settingsLoaded', () => this.complete('settings', model))\n            .once('textureLoaded', () => this.complete('textures', model))\n            .once('modelLoaded', () => this.complete('internalModel', model))\n\n            // TODO: (plugin) emit \"poseLoadError\" and \"physicsLoadError\"\n            .once('poseLoaded', () => this.complete('pose', model))\n            .once('physicsLoaded', () => this.complete('physics', model));\n    }\n\n    complete(stage: keyof ModelLoadingState['stages'], model: Live2DModel) {\n        if (stage !== 'settingsJSON' && this.stages.settingsJSON !== StageState.COMPLETED) {\n            // FIXME: (plugin) \"settingsJSONLoaded\" and \"settingsLoaded\" are not emitted when loading from local files\n            this.complete('settingsJSON', model);\n            this.complete('settings', model);\n        }\n\n        this.stages[stage] = StageState.COMPLETED;\n\n        if (stage === 'settingsJSON') {\n            this.stages.settings = StageState.PENDING;\n        } else if (stage === 'settings') {\n            this.stages.textures = StageState.PENDING;\n            this.stages.internalModel = StageState.PENDING;\n            model.factoryContext.settings!.pose && (this.stages.pose = StageState.PENDING);\n            model.factoryContext.settings!.physics && (this.stages.physics = StageState.PENDING);\n        }\n\n        this.updateText();\n    }\n\n    updateText() {\n        this.text = Object.entries(this.stages).map(\n            ([stage, state]) => {\n                if (state === StageState.NOT_AVAILABLE) {\n                    return '';\n                }\n\n                let mark;\n\n                switch (state) {\n                    case StageState.PENDING:\n                        mark = '[ ]';\n                        break;\n                    case StageState.COMPLETED:\n                        mark = '[x]';\n                        break;\n                    case StageState.FAILED:\n                        mark = ' X ';\n                        break;\n                }\n\n                return `${mark} Loading ${lowerCase(stage)}`;\n            }\n        ).filter(Boolean).join('\\n');\n    }\n}\n","import { Live2DModel } from './Live2DModel';\nimport { EventEmitter } from '@pixi/utils';\nimport { draggable } from '@/tools/dragging';\nimport { settings } from '@pixi/settings';\nimport { Renderer } from '@pixi/core';\nimport { Extract } from '@pixi/extract';\nimport { Filter } from '@/app/Filter';\nimport { ModelLoadingState } from './ModelLoadingState';\nimport { Live2DFactory } from 'pixi-live2d-display';\n\n// 1x1 green image\nconst THUMBNAIL = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mMU22h6EgADqAHHuWdgTgAAAABJRU5ErkJggg==';\n\nlet uid = 1;\n\nexport class ModelEntity extends EventEmitter {\n    id = uid++;\n    url = '';\n\n    thumbnail = '';\n    aspectRatio = 1;\n\n    name = 'New Model';\n    visible = true;\n\n    private _scaleX = 1;\n    private _scaleY = 1;\n    private _rotation = 0;\n    private _zIndex = 0;\n\n    filters: (keyof typeof Filter.filters)[] = [];\n\n    loadingState = new ModelLoadingState();\n\n    error = '';\n\n    pixiModel?: Live2DModel;\n\n    constructor(source: string | File[], renderer: Renderer) {\n        super();\n\n        this.loadModel(source).then();\n    }\n\n    async loadModel(source: string | File[]) {\n        if (typeof source === 'string') {\n            this.url = source;\n        } else {\n            this.url = '(Local files)';\n        }\n\n        // don't use Live2DModel.fromSync() because when loading from local files,\n        // the \"settingsJSONLoaded\" and \"settingsLoaded\" events will be emitted before\n        // we're able to listen to the Live2DModel instance\n        // TODO: (plugin) improve model creation?\n        const pixiModel = new Live2DModel();\n\n        this.loadingState.watch(pixiModel);\n\n        try {\n            await Live2DFactory.setupLive2DModel(pixiModel, source);\n\n            this.modelLoaded(pixiModel);\n            this.emit('modelLoaded', pixiModel);\n        } catch (e) {\n            console.warn(e);\n\n            this.error = e instanceof Error ? e.message : e + '';\n        }\n    }\n\n    modelLoaded(pixiModel: Live2DModel) {\n        this.pixiModel = pixiModel;\n        this.name = pixiModel.internalModel.settings.name;\n        this.thumbnail = THUMBNAIL;\n        this.aspectRatio = pixiModel.width / pixiModel.height;\n\n        this.updateFilters();\n\n        draggable(pixiModel);\n    }\n\n    initThumbnail(renderer: Renderer) {\n        const pixiModel = this.pixiModel!;\n        settings.RESOLUTION = 0.2;\n\n        const hitAreaFramesVisible = pixiModel.hitAreaFrames.visible;\n        const backgroundVisible = pixiModel.backgroundVisible;\n        pixiModel.hitAreaFrames.visible = false;\n        pixiModel.backgroundVisible = false;\n\n        try {\n            const canvas = (renderer.plugins.extract as Extract).canvas(pixiModel);\n\n            canvas.toBlob(blob => this.thumbnail = URL.createObjectURL(blob!), 'image/webp', 0.01);\n        } catch (e) {\n            console.warn(e);\n        }\n\n        settings.RESOLUTION = 1;\n        pixiModel.hitAreaFrames.visible = hitAreaFramesVisible;\n        pixiModel.backgroundVisible = backgroundVisible;\n    }\n\n    fit(width: number, height: number) {\n        if (this.pixiModel) {\n            let scale = Math.min(width / this.pixiModel.width, height / this.pixiModel.height);\n\n            scale = Math.round(scale * 10) / 10;\n\n            this.scale(scale, scale);\n        }\n    }\n\n    scale(scaleX?: number, scaleY?: number) {\n        this._scaleX = scaleX ?? this._scaleX;\n        this._scaleY = scaleY ?? this._scaleY;\n\n        if (this.pixiModel) {\n            this.pixiModel.scale.set(this._scaleX, this._scaleY);\n        }\n    }\n\n    rotate(rotation: number) {\n        this._rotation = rotation;\n\n        if (this.pixiModel) {\n            this.pixiModel.rotation = rotation;\n        }\n    }\n\n    setZIndex(zIndex: number) {\n        this._zIndex = zIndex;\n\n        if (this.pixiModel) {\n            this.pixiModel.zIndex = zIndex;\n        }\n    }\n\n    setVisible(visible: boolean) {\n        this.visible = visible;\n\n        if (this.pixiModel) {\n            this.pixiModel.visible = visible;\n        }\n    }\n\n    updateFilters() {\n        if (this.pixiModel) {\n            Filter.set(this.pixiModel, this.filters);\n        }\n    }\n\n    destroy() {\n        if (this.pixiModel) {\n            this.pixiModel.destroy({ children: true });\n            this.pixiModel = undefined;\n\n            URL.revokeObjectURL(this.thumbnail);\n        }\n    }\n\n    get zIndex(): number {\n        return this._zIndex;\n    }\n\n    set zIndex(value: number) {\n        this.setZIndex(value);\n    }\n\n    get rotation(): number {\n        return this._rotation;\n    }\n\n    set rotation(value: number) {\n        this.rotate(value);\n    }\n\n    get scaleY(): number {\n        return this._scaleY;\n    }\n\n    set scaleY(value: number) {\n        this.scale(undefined, value);\n    }\n\n    get scaleX(): number {\n        return this._scaleX;\n    }\n\n    set scaleX(value: number) {\n        this.scale(value, value);\n    }\n}\n","export function save(key: string) {\n    return function(target: any, propertyKey: string, descriptor: PropertyDescriptor) {\n        const set = descriptor.set!;\n\n        descriptor.set = function(value: any) {\n            set.call(this, value);\n            saveValue(key, value);\n        };\n\n        const value = loadValue(key, descriptor.get!.call(target));\n        set.call(target, value);\n    };\n}\n\nexport function saveValue<T = any>(key: string, value: T) {\n    localStorage.setItem(key, JSON.stringify(value));\n}\n\nexport function loadValue<T = any>(key: string, defaultValue: T): T {\n    const data = localStorage.getItem(key);\n\n    if (data === null) {\n        return defaultValue;\n    }\n\n    return JSON.parse(data);\n}\n","import { Filter } from '@/app/Filter';\nimport { Application } from '@pixi/app';\nimport { BatchRenderer, Renderer, extensions } from '@pixi/core';\nimport { Extract } from '@pixi/extract';\nimport { InteractionManager } from '@pixi/interaction';\nimport { TickerPlugin } from '@pixi/ticker';\nimport Stats from 'stats.js';\n\nextensions.add(TickerPlugin, Extract, BatchRenderer, InteractionManager);\n\nexport class PixiApp extends Application {\n    declare renderer: Renderer;\n\n    constructor(stats: Stats) {\n        super({\n            view: document.getElementById('canvas') as HTMLCanvasElement,\n            resizeTo: window,\n            antialias: true,\n            backgroundAlpha: 0,\n        });\n\n        this.ticker.remove(this.render, this);\n\n        this.ticker.add(() => {\n            stats.begin();\n\n            Filter.update(this.ticker.deltaMS);\n\n            this.render();\n\n            stats.end();\n        });\n    }\n}\n","import { ModelEntity } from './ModelEntity';\nimport { ExtendedFileList, SoundManager } from 'pixi-live2d-display';\nimport { save } from '@/utils/storage';\nimport Stats from 'stats.js';\nimport { PixiApp } from '@/app/PixiApp';\nimport { Live2DModel } from '@/app/Live2DModel';\n\nconst stats = new Stats();\nstats.showPanel(0);\nstats.dom.style.display = 'none';\nstats.dom.style.display = 'none';\n\nexport class App {\n    static models: ModelEntity[] = [];\n\n    static pixiApp = new PixiApp(stats);\n\n    private static _volume = SoundManager.volume;\n    private static _showHitAreaFrames = false;\n    private static _showModelFrame = false;\n    private static _showStats = true;\n\n    static addModel(source: string | ExtendedFileList): number {\n        const model = new ModelEntity(source, this.pixiApp.renderer);\n\n        this.initModel(model);\n        this.models.push(model);\n\n        return model.id;\n    }\n\n    static getModel(id: number) {\n        return this.models.find(m => m.id === id);\n    }\n\n    private static initModel(model: ModelEntity) {\n        model.on('modelLoaded', async (pixiModel: Live2DModel) => {\n            if (!this.pixiApp.stage.children.includes(pixiModel)) {\n                this.pixiApp.stage.addChild(pixiModel);\n\n                pixiModel.backgroundVisible = this.showModelFrame;\n                pixiModel.hitAreaFrames.visible = this.showHitAreaFrames;\n                pixiModel.position.set(this.pixiApp.renderer.width / 2, this.pixiApp.renderer.height / 2);\n\n                model.fit(this.pixiApp.renderer.width, this.pixiApp.renderer.height);\n                model.initThumbnail(this.pixiApp.renderer);\n            }\n        });\n    }\n\n    static removeModel(id: number) {\n        const model = this.models.find(model => model.id === id);\n\n        if (model) {\n            this.models.splice(this.models.indexOf(model), 1);\n\n            if (model.pixiModel) {\n                this.pixiApp.stage.removeChild(model.pixiModel);\n            }\n\n            model.destroy();\n        }\n    }\n\n    @save('stats')\n    static set showStats(value: boolean) {\n        this._showStats = value;\n\n        if (value) {\n            document.body.appendChild(stats.dom);\n        } else {\n            stats.dom.parentElement?.removeChild(stats.dom);\n        }\n    }\n\n    static get showStats(): boolean {\n        return this._showStats;\n    }\n\n    @save('volume')\n    static set volume(value: number) {\n        this._volume = value;\n        SoundManager.volume = value;\n    }\n\n    static get volume(): number {\n        return this._volume;\n    }\n\n    @save('modelFrame')\n    static set showModelFrame(value: boolean) {\n        this._showModelFrame = value;\n\n        for (const model of this.models) {\n            if (model?.pixiModel) {\n                model.pixiModel.backgroundVisible = value;\n            }\n        }\n    }\n\n    static get showModelFrame(): boolean {\n        return this._showModelFrame;\n    }\n\n    @save('hitAreaFrames')\n    static set showHitAreaFrames(value: boolean) {\n        this._showHitAreaFrames = value;\n\n        for (const model of this.models) {\n            if (model?.pixiModel) {\n                model.pixiModel.hitAreaFrames.visible = value;\n            }\n        }\n    }\n\n    static get showHitAreaFrames(): boolean {\n        return this._showHitAreaFrames;\n    }\n}\n","\nimport Vue from 'vue';\nimport { ModelEntity } from '@/app/ModelEntity';\nimport { App } from '@/app/App';\n\nexport default Vue.extend({\n    name: \"ModelList\",\n    props: {\n        value: Number,\n        show: Boolean,\n    },\n    data: () => ({\n        models: [] as ModelEntity[],\n    }),\n    computed: {\n        paneHeight() {\n            return this.$vuetify.breakpoint.xl ? 192 : 144;\n        },\n        selectedIndex() {\n            return this.models.findIndex(model => model.id === this.value);\n        },\n    },\n    created() {\n        this.models = App.models;\n    },\n    methods: {\n        select(index: number) {\n            const id = this.models[index]?.id ?? 0;\n\n            this.$emit('input', id);\n        },\n        remove(id: number) {\n            if (this.models.length === 1) {\n                this.$emit('input', 0);\n            }\n\n            App.removeModel(id);\n        },\n    },\n});\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ModelList.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ModelList.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ModelList.vue?vue&type=template&id=5ec9ee77&scoped=true&\"\nimport script from \"./ModelList.vue?vue&type=script&lang=ts&\"\nexport * from \"./ModelList.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ModelList.vue?vue&type=style&index=0&id=5ec9ee77&prod&scoped=true&lang=stylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5ec9ee77\",\n  null\n  \n)\n\nexport default component.exports","import { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c(VDialog,{attrs:{\"value\":_vm.value,\"width\":\"800\"},on:{\"input\":function($event){return _vm.$emit('input',$event)}}},[_c(VCard,[_c(VToolbar,{staticClass:\"flex-grow-0\",attrs:{\"color\":\"primary\",\"flat\":\"\",\"dense\":\"\"}},[_c(VToolbarTitle,[_vm._v(\"Create Model\")]),_c(VSpacer),_c(VBtn,{attrs:{\"icon\":\"\"},on:{\"click\":_vm.create}},[_c(VIcon,[_vm._v(\"mdi-checkbox-marked-circle-outline\")])],1)],1),_c(VCardText,{staticClass:\"pa-8\"},[_c(VTextField,{attrs:{\"single-line\":\"\",\"filled\":\"\",\"label\":\"URL\",\"messages\":_vm.urlMessages,\"error\":_vm.urlError},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.create.apply(null, arguments)}},model:{value:(_vm.url),callback:function ($$v) {_vm.url=$$v},expression:\"url\"}}),_c('div',{staticClass:\"d-flex align-center\"},[_c(VBtn,{attrs:{\"icon\":\"\",\"small\":\"\",\"color\":\"grey\"},on:{\"click\":function($event){_vm.dropHelpDialog=true}}},[_c(VIcon,{attrs:{\"size\":\"20\"}},[_vm._v(\"mdi-help-circle\")])],1),_c('span',[_vm._v(\"Drag and drop supported\")]),_c(VSpacer),_c(VBtn,{attrs:{\"color\":\"blue-grey\"},on:{\"click\":function($event){_vm.picker.dialog=true}}},[_vm._v(\"From source...\"),_c(VIcon,{attrs:{\"right\":\"\"}},[_vm._v(\" mdi-cloud-search\")])],1)],1)],1)],1),_c(VDialog,{attrs:{\"width\":\"1000\",\"max-width\":\"80vw\"},model:{value:(_vm.dropHelpDialog),callback:function ($$v) {_vm.dropHelpDialog=$$v},expression:\"dropHelpDialog\"}},[_c(VImg,{attrs:{\"src\":\"drop.jpg\"},on:{\"click\":function($event){_vm.dropHelpDialog=false}}})],1),_c('ModelPicker',{on:{\"select\":function($event){_vm.url=$event}},model:{value:(_vm.picker.dialog),callback:function ($$v) {_vm.$set(_vm.picker, \"dialog\", $$v)},expression:\"picker.dialog\"}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VChip } from 'vuetify/lib/components/VChip';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemGroup } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\nimport { VTreeview } from 'vuetify/lib/components/VTreeview';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c(VDialog,{attrs:{\"value\":_vm.value,\"width\":\"1500\",\"max-width\":\"90vw\"},on:{\"input\":function($event){return _vm.$emit('input',$event)}}},[_c(VCard,{staticClass:\"d-flex flex-column\",attrs:{\"height\":\"1000\",\"max-height\":\"90vh\"}},[_c(VToolbar,{staticClass:\"flex-grow-0\",attrs:{\"color\":\"primary\",\"flat\":\"\",\"dense\":\"\"}},[_c(VToolbarTitle,[_vm._v(\"Select a Model\")]),_c(VSpacer),_c(VBtn,{attrs:{\"icon\":\"\"},on:{\"click\":_vm.submit}},[_c(VIcon,[_vm._v(\"mdi-checkbox-marked-circle-outline\")])],1)],1),_c(VRow,{staticClass:\"content-row flex-grow-1\",attrs:{\"no-gutters\":\"\"}},[_c(VCol,{staticClass:\"content-col\"},[_c(VTreeview,{attrs:{\"activatable\":\"\",\"return-object\":\"\",\"load-children\":_vm.fetchModels,\"active\":_vm.activeFolders,\"items\":_vm.tree,\"item-key\":\"id\",\"open-on-click\":\"\"},on:{\"update:active\":function($event){$event.length&&(_vm.activeFolders=$event)},\"update:open\":_vm.folderOpened},scopedSlots:_vm._u([{key:\"prepend\",fn:function({ open }){return [_c(VIcon,[_vm._v(\" \"+_vm._s(open ? 'mdi-folder-open' : 'mdi-folder')+\" \")])]}},{key:\"label\",fn:function({ item }){return [_c('span',{class:{'text-decoration-line-through':item.error}},[_vm._v(_vm._s(item.name))]),_c(VChip,{staticClass:\"model-count ml-1 px-2 text--secondary\",attrs:{\"x-small\":\"\"}},[_vm._v(_vm._s(item.modelCount))])]}}])})],1),_c(VDivider,{attrs:{\"vertical\":\"\"}}),_c(VCol,{staticClass:\"content-col\"},[_c(VListItemGroup,{model:{value:(_vm.selectedFileIndex),callback:function ($$v) {_vm.selectedFileIndex=$$v},expression:\"selectedFileIndex\"}},_vm._l((_vm.activeFolderFiles),function(file,i){return _c(VListItem,{key:file,attrs:{\"color\":\"primary\"},nativeOn:{\"dblclick\":function($event){_vm.selectedFileIndex=i;_vm.submit()}}},[_c(VListItemContent,[_c(VListItemTitle,[_vm._v(_vm._s(file))])],1)],1)}),1)],1)],1),_c(VDivider),_c(VCardActions,[_c('span',{staticClass:\"text--secondary text-caption\"},[_vm._v(\"The listed models were scraped from \"),_c('a',{attrs:{\"target\":\"_blank\",\"href\":\"https://github.com/andatoshiki/toshiki-live2d\"}},[_vm._v(\"andatoshiki/toshiki-live2d\")]),_vm._v(\". All credit goes to their respective creators.\")])])],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport Vue from 'vue';\nimport { xor } from 'lodash-es';\nimport { getFileURL, getRootNodes, loadRootNode, TreeNode } from '@/app/data';\n\nexport default Vue.extend({\n    name: \"ModelPicker\",\n    props: {\n        value: Boolean,\n    },\n\n    data: () => ({\n        search: '',\n        tree: getRootNodes(),\n\n        openedFolders: [] as TreeNode[],\n        activeFolders: [] as TreeNode[],\n        selectedFileIndex: -1,\n\n        alert: '',\n    }),\n    computed: {\n        activeFolderFiles() {\n            return this.activeFolders.length ? this.activeFolders[0].files || [] : [];\n        },\n    },\n    watch: {\n        activeFolders(value: TreeNode[], oldValue: TreeNode[]) {\n            const hasChanged = xor(value, oldValue).length !== 0;\n\n            if (hasChanged) {\n                this.selectedFileIndex = -1;\n            }\n        },\n        selectedFileIndex() {\n            this.alert = '';\n        },\n    },\n    created() {\n    },\n    methods: {\n        async fetchModels(node: TreeNode) {\n            await loadRootNode(node);\n        },\n        folderOpened(openedFolders: TreeNode[]) {\n            const diff = xor(openedFolders, this.openedFolders);\n\n            if (diff.length) {\n                this.activeFolders = diff.slice(0);\n                this.openedFolders = openedFolders;\n            } else {\n                this.activeFolders = this.tree.slice(0, 1);\n            }\n        },\n        submit() {\n            if (this.activeFolders.length && this.selectedFileIndex >= 0) {\n                const file = getFileURL(this.activeFolders[0], this.activeFolderFiles[this.selectedFileIndex]);\n\n                if (file) {\n                    this.$emit('select', file);\n                }\n            }\n\n            this.$emit('input', false);\n        },\n        log(...args: any[]) {\n            console.log(...args);\n        },\n    },\n});\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ModelPicker.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ModelPicker.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ModelPicker.vue?vue&type=template&id=3c62e715&scoped=true&\"\nimport script from \"./ModelPicker.vue?vue&type=script&lang=ts&\"\nexport * from \"./ModelPicker.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ModelPicker.vue?vue&type=style&index=0&id=3c62e715&prod&scoped=true&lang=stylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3c62e715\",\n  null\n  \n)\n\nexport default component.exports","\nimport Vue from 'vue';\nimport ModelPicker from './ModelPicker.vue';\nimport { validateURL } from '@/app/data';\nimport { App } from '@/app/App';\n\nexport default Vue.extend({\n    components: { ModelPicker },\n\n    name: \"ModelCreation\",\n    props: {\n        value: Boolean,\n    },\n    data: () => ({\n        url: 'https://cdn.jsdelivr.net/gh/andatoshiki/toshiki-live2d/Live2D/Senko_Normals/senko.model3.json',\n\n        dropHelpDialog: false,\n\n        picker: {\n            dialog: false,\n        },\n\n        urlError: false,\n        urlMessages: [] as string[],\n    }),\n    watch: {\n        url(value) {\n            const message = validateURL(value) || '';\n\n            this.urlError = /error/i.test(message);\n            this.urlMessages = [message].filter(Boolean);\n        },\n    },\n    methods: {\n        create() {\n            this.url = this.url.replace(/\\s/, '');\n\n            if (!this.url) {\n                this.urlError = true;\n                this.urlMessages = ['Please enter a URL'];\n            }\n\n            if (this.urlError) {\n                return;\n            }\n\n            const id = App.addModel(this.url);\n\n            this.$emit('input', false);\n            this.$emit('create', id);\n        },\n    },\n});\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ModelCreation.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ModelCreation.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ModelCreation.vue?vue&type=template&id=027ff2e8&scoped=true&\"\nimport script from \"./ModelCreation.vue?vue&type=script&lang=ts&\"\nexport * from \"./ModelCreation.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"027ff2e8\",\n  null\n  \n)\n\nexport default component.exports","import { VCheckbox } from 'vuetify/lib/components/VCheckbox';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListGroup } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemIcon } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VProgressCircular } from 'vuetify/lib/components/VProgressCircular';\nimport { VSlider } from 'vuetify/lib/components/VSlider';\nimport { VSubheader } from 'vuetify/lib/components/VSubheader';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return (_vm.model)?_c('div',{staticClass:\"model-editor\"},[(_vm.hasPixiModel)?_c(VList,{attrs:{\"expand\":\"\"}},[_c(VListGroup,{attrs:{\"value\":true},scopedSlots:_vm._u([{key:\"activator\",fn:function(){return [_c(VListItemContent,[_c(VListItemTitle,[_vm._v(\"Display\")])],1)]},proxy:true}],null,false,1435882642)},[_c(VListItem,[_c(VListItemContent,[_c('div',[_c(VSlider,{staticClass:\"mt-2\",attrs:{\"dense\":\"\",\"prepend-icon\":\"mdi-magnify\",\"messages\":String(_vm.model.scaleX),\"min\":\"0.01\",\"max\":\"3\",\"step\":\"0.01\"},model:{value:(_vm.model.scaleX),callback:function ($$v) {_vm.$set(_vm.model, \"scaleX\", $$v)},expression:\"model.scaleX\"}}),_c(VSlider,{staticClass:\"mt-2\",attrs:{\"dense\":\"\",\"prepend-icon\":\"mdi-rotate-right\",\"messages\":_vm.rotationDeg,\"min\":\"0\",\"max\":\"6.28\",\"step\":\"0.01\"},model:{value:(_vm.model.rotation),callback:function ($$v) {_vm.$set(_vm.model, \"rotation\", $$v)},expression:\"model.rotation\"}})],1)])],1)],1),_c(VListGroup,{attrs:{\"data-set\":_vm.motionCount=_vm.motionGroups.reduce((sum, { motions }) => sum + motions.length, 0),\"disabled\":!_vm.motionCount},scopedSlots:_vm._u([{key:\"activator\",fn:function(){return [_c(VListItemContent,[_c(VListItemTitle,{class:{'text--secondary':!_vm.motionCount}},[_vm._v(\"Motions (\"+_vm._s(_vm.motionCount)+\") \")])],1)]},proxy:true},{key:\"default\",fn:function(){return [_vm._l((_vm.motionGroups),function(motionGroup){return [_c(VSubheader,{key:motionGroup.name,staticClass:\"px-3\"},[_vm._v(_vm._s(motionGroup.name || '(Nameless)'))]),_vm._l((motionGroup.motions),function(motion,i){return _c(VListItem,{key:motionGroup.name+i,attrs:{\"ripple\":\"\",\"data-set\":_vm.active=_vm.motionState.currentGroup===motionGroup.name&&_vm.motionState.currentIndex===i,\"disabled\":!!motion.error},on:{\"click\":function($event){return _vm.startMotion(motionGroup,i)}}},[(_vm.active)?_c('div',{staticClass:\"motion-progress\"}):_vm._e(),_c(VListItemContent,{attrs:{\"title\":motion.file}},[_c(VListItemTitle,{class:{'primary--text':_vm.active,'text-decoration-line-through':motion.error}},[_vm._v(\" \"+_vm._s(motion.file.replace('.mtn', '').replace('.motion3.json', ''))+\" \")])],1),_c(VListItemIcon,{staticClass:\"my-0 align-self-center\"},[(_vm.active)?_c(VIcon,{attrs:{\"size\":\"32\",\"color\":\"primary\"}},[_vm._v(\"mdi-play\")]):((_vm.motionState.reservedGroup===motionGroup.name&&_vm.motionState.reservedIndex===i)\n                  ||(_vm.motionState.reservedIdleGroup===motionGroup.name&&_vm.motionState.reservedIdleIndex===i))?_c(VProgressCircular,{attrs:{\"indeterminate\":\"\",\"size\":\"20\",\"width\":\"2\"}}):_vm._e()],1)],1)})]})]},proxy:true}],null,false,3970018182),model:{value:(_vm.motionExpand),callback:function ($$v) {_vm.motionExpand=$$v},expression:\"motionExpand\"}}),_c(VListGroup,{attrs:{\"disabled\":!_vm.expressions.length},scopedSlots:_vm._u([{key:\"activator\",fn:function(){return [_c(VListItemContent,[_c(VListItemTitle,{class:{'text--secondary':!_vm.expressions.length}},[_vm._v(\"Expressions (\"+_vm._s(_vm.expressions.length)+\") \")])],1)]},proxy:true},{key:\"default\",fn:function(){return _vm._l((_vm.expressions),function(expression,i){return _c(VListItem,{key:i,attrs:{\"ripple\":\"\",\"data-set\":_vm.active=_vm.currentExpressionIndex===i,\"disabled\":!!expression.error},on:{\"click\":function($event){return _vm.setExpression(i)}}},[_c(VListItemContent,{attrs:{\"title\":expression.file}},[_c(VListItemTitle,{class:{'primary--text':_vm.active,'text-decoration-line-through':expression.error}},[_vm._v(\" \"+_vm._s(expression.file.replace('.exp.json', '').replace('.exp3.json', ''))+\" \")])],1),_c(VListItemIcon,{staticClass:\"my-0 align-self-center\"},[(_vm.active)?_c(VIcon,{attrs:{\"size\":\"28\",\"color\":\"primary\"}},[_vm._v(\"mdi-emoticon-outline\")]):(_vm.pendingExpressionIndex===i)?_c(VProgressCircular,{attrs:{\"indeterminate\":\"\",\"size\":\"20\",\"width\":\"2\"}}):_vm._e()],1)],1)})},proxy:true}],null,false,1007064366)}),_c(VListGroup,{scopedSlots:_vm._u([{key:\"activator\",fn:function(){return [_c(VListItemContent,[_c(VListItemTitle,[_vm._v(\"Filters\")])],1)]},proxy:true}],null,false,2196630299)},[_c('div',{staticClass:\"mt-3\"}),_vm._l((_vm.filters),function(filter){return _c(VCheckbox,{key:filter,staticClass:\"v-input--reverse mx-3 mt-0\",attrs:{\"label\":filter+(index=>index?` [${index}]`:'')(_vm.model.filters.indexOf(filter)+1),\"value\":filter},model:{value:(_vm.model.filters),callback:function ($$v) {_vm.$set(_vm.model, \"filters\", $$v)},expression:\"model.filters\"}})})],2)],1):[_c('pre',{staticClass:\"pa-3 text--secondary\"},[_vm._v(_vm._s(_vm.model.loadingState.text))]),(_vm.model.error)?_c('pre',{staticClass:\"error--text px-3 text-wrap\"},[_vm._v(_vm._s(_vm.model.error))]):_vm._e()]],2):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport { App } from '@/app/App';\nimport { Filter } from '@/app/Filter';\nimport { Live2DModel } from '@/app/Live2DModel';\nimport { ModelEntity } from '@/app/ModelEntity';\nimport { clamp } from 'lodash-es';\nimport { MotionPriority, MotionState } from 'pixi-live2d-display';\nimport Vue from 'vue';\n\ninterface MotionGroupEntry {\n    name: string\n    motions: {\n        file: string;\n        error?: any;\n    }[]\n}\n\ninterface ExpressionEntry {\n    file: string;\n    error?: any;\n}\n\nexport default Vue.extend({\n    name: 'ModelEditor',\n    props: {\n        id: {\n            type: Number,\n            default: 0,\n        },\n        visible: Boolean,\n    },\n    data: () => ({\n        model: null as ModelEntity | null | undefined,\n\n        motionExpand: false,\n        motionGroups: [] as MotionGroupEntry[],\n        motionState: null as MotionState | null | undefined,\n\n        motionProgressTimerID: -1,\n\n        expressions: [] as ExpressionEntry[],\n        currentExpressionIndex: -1,\n        pendingExpressionIndex: -1,\n\n        filters: Object.keys(Filter.filters),\n    }),\n    computed: {\n        hasPixiModel(): boolean {\n            return !!this.motionState;\n        },\n        rotationDeg(): string {\n            return Math.round((this.model?.rotation || 0) / Math.PI * 180) + '';\n        },\n    },\n    watch: {\n        id: {\n            immediate: true,\n            handler() {\n                this.updateModel();\n            },\n        },\n        'model.filters'() {\n            this.model?.updateFilters();\n        },\n\n        // immediately update progress when current motion has changed\n        'motionState.currentGroup': 'updateMotionProgress',\n    },\n    mounted() {\n        this.motionProgressTimerID = setInterval(this.updateMotionProgress, 50);\n    },\n    methods: {\n        updateModel() {\n            this.resetModel();\n\n            this.model = App.getModel(this.id);\n\n            if (this.model) {\n                if (this.model.pixiModel) {\n                    this.pixiModelLoaded(this.model.pixiModel);\n                } else {\n                    this.model.once('modelLoaded', this.pixiModelLoaded);\n                }\n            }\n        },\n        resetModel() {\n            if (this.model) {\n                this.model.off('modelLoaded', this.pixiModelLoaded);\n                this.model.pixiModel?.off('expressionSet', this.expressionSet);\n                this.model.pixiModel?.off('expressionReserved', this.expressionReserved);\n                this.model.pixiModel?.internalModel.motionManager?.off('motionLoadError', this.motionLoadError);\n                this.model.pixiModel?.internalModel.motionManager?.expressionManager?.off('expressionLoadError', this.expressionLoadError);\n\n                this.motionGroups = [];\n                this.motionState = undefined;\n                this.model = undefined;\n            }\n        },\n        pixiModelLoaded(pixiModel: Live2DModel) {\n            const motionManager = pixiModel.internalModel.motionManager;\n            const motionGroups: MotionGroupEntry[] = [];\n\n            const definitions = motionManager.definitions;\n\n            for (const [group, motions] of Object.entries(definitions)) {\n                motionGroups.push({\n                    name: group,\n                    motions: motions?.map((motion, index) => ({\n                        file: motion.file || motion.File || '',\n                        error: motionManager.motionGroups[group]![index]! === null ? 'Failed to load' : undefined,\n                    })) || [],\n                });\n            }\n\n            this.motionGroups = motionGroups;\n            this.motionState = motionManager.state;\n\n            const expressionManager = motionManager.expressionManager;\n            this.expressions = expressionManager?.definitions.map((expression, index) => ({\n                file: expression.file || expression.File || '',\n                error: expressionManager!.expressions[index]! === null ? 'Failed to load' : undefined,\n            })) || [];\n\n            this.currentExpressionIndex = expressionManager?.expressions.indexOf(expressionManager!.currentExpression) ?? -1;\n            this.pendingExpressionIndex = expressionManager?.reserveExpressionIndex ?? -1;\n\n            pixiModel.on('expressionSet', this.expressionSet);\n            pixiModel.on('expressionReserved', this.expressionReserved);\n            motionManager.on('motionLoadError', this.motionLoadError);\n            expressionManager?.on('expressionLoadError', this.expressionLoadError);\n        },\n        expressionSet(index: number) {\n            this.currentExpressionIndex = index;\n        },\n        expressionReserved(index: number) {\n            this.pendingExpressionIndex = index;\n        },\n        motionLoadError(group: string, index: number, error: any) {\n            const motionGroup = this.motionGroups.find(motionGroup => motionGroup.name === group);\n\n            if (motionGroup) {\n                motionGroup.motions[index]!.error = error;\n            }\n        },\n        expressionLoadError(index: number, error: any) {\n            this.expressions[index]!.error = error;\n        },\n        startMotion(motionGroup: MotionGroupEntry, index: number) {\n            this.model?.pixiModel?.motion(motionGroup.name, index, MotionPriority.FORCE);\n        },\n        setExpression(index: number) {\n            this.model?.pixiModel?.expression(index);\n        },\n        updateMotionProgress() {\n            if (!(this.model?.pixiModel && this.motionState?.currentGroup !== undefined && this.motionExpand && this.visible && this.$el)) {\n                return;\n            }\n\n            const startTime = this.model.pixiModel.currentMotionStartTime;\n            const duration = this.model.pixiModel.currentMotionDuration;\n            const progress = clamp((this.model.pixiModel.elapsedTime - startTime) / duration, 0, 1);\n\n            // using a CSS variable can be a lot faster than letting Vue update a style object bound to the element\n            // since that will cause the component to re-render\n            (this.$el as HTMLElement).style.setProperty('--progress', progress * 100 + '%');\n        },\n    },\n    beforeDestroy() {\n        this.resetModel();\n        clearInterval(this.motionProgressTimerID);\n    },\n});\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ModelEditor.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ModelEditor.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ModelEditor.vue?vue&type=template&id=461e8bf9&scoped=true&\"\nimport script from \"./ModelEditor.vue?vue&type=script&lang=ts&\"\nexport * from \"./ModelEditor.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ModelEditor.vue?vue&type=style&index=0&id=461e8bf9&prod&scoped=true&lang=stylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"461e8bf9\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{class:['drop-zone', {active:_vm.draggingOver}]},[(_vm.draggingOver)?_c('div',{staticClass:\"text-h1\"},[_vm._v(\"Drop Files\")]):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export function nonNullableFilter<T extends any>(value: T, index: number, array: T[]): value is NonNullable<T> {\n    return value !== undefined && value !== null;\n}\n  ","import { nonNullableFilter } from './arr';\n\nexport function basename(path: string): string {\n    // https://stackoverflow.com/a/15270931\n    return path.split(/[\\\\/]/).pop()!;\n}\n\n/**\n * Checks if it's files being dragged at this drag event.\n *\n * @see https://stackoverflow.com/q/5323668/13237325\n */\nexport function isDraggingFile(event: DragEvent): boolean {\n    return !!event.dataTransfer?.types.some((type) => type === 'Files');\n}\n\nexport async function readFiles(dataTransferItemList: DataTransferItemList): Promise<File[]> {\n    const entries = [...dataTransferItemList].map((item) => item.webkitGetAsEntry()).filter(nonNullableFilter);\n\n    return readEntries(entries);\n}\n\nasync function readEntries(entries: FileSystemEntry[]): Promise<File[]> {\n    const files: File[] = [];\n\n    await Promise.all(\n        entries.map(async (entry) => {\n            if (entry.isFile) {\n                files.push(await readFileEntry(entry as FileSystemFileEntry));\n            } else if (entry.isDirectory) {\n                const subEntries = await readDirEntry(entry as FileSystemDirectoryEntry);\n\n                files.push(...(await readEntries(subEntries)));\n            }\n        })\n    );\n\n    return files;\n}\n\nfunction readDirEntry(dirEntry: FileSystemDirectoryEntry): Promise<FileSystemEntry[]> {\n    return new Promise((resolve, reject) => {\n        dirEntry.createReader().readEntries(resolve, reject);\n    });\n}\n\nasync function readFileEntry(fileEntry: FileSystemFileEntry): Promise<File> {\n    const file = await new Promise<File>((resolve, reject) => fileEntry.file(resolve, reject));\n\n    let relativePath = fileEntry.fullPath;\n\n    // relative path should just be relative...\n    if (relativePath.startsWith('/')) {\n        relativePath = relativePath.slice(1);\n    }\n\n    // let's borrow this property...\n    Object.defineProperty(file, 'webkitRelativePath', {\n        value: relativePath,\n    });\n\n    return file;\n}\n\nexport function readAsBase64(file: File): Promise<string> {\n    return new Promise<string>((resolve, reject) => {\n        const reader = new FileReader();\n        reader.onload = () => resolve(reader.result as string);\n        reader.onerror = reject;\n        reader.readAsDataURL(file);\n    });\n}\n","import { basename } from '@/utils/file';\nimport { Cubism2ModelSettings, Cubism4ModelSettings, FileLoader, ModelSettings } from 'pixi-live2d-display';\nimport { isMocFile, isMocFileV2, isSettingsFile } from './helpers';\n\nconst MAX_SETTINGS_FILES = 5;\n\nlet uid = 0;\n\nconst defaultCreateSettings = FileLoader.createSettings;\n\nFileLoader.createSettings = async (files: File[]) => {\n    if (!files.find(file => isSettingsFile(file.name))) {\n        return createFakeSettings(files);\n    }\n\n    return defaultCreateSettings(files);\n};\n\nexport async function uploadFiles(files: File[]): Promise<ModelSettings[]> {\n    if (files.length === 1 && files[0].name.endsWith('.zip')) {\n        // just let it go...\n        return [];\n    }\n\n    if (files.some(file => isSettingsFile(file.name))) {\n        return createSettings(files);\n    } else {\n        return [createFakeSettings(files)];\n    }\n}\n\nexport async function createSettings(files: File[]): Promise<ModelSettings[]> {\n    const settingsFiles: File[] = [];\n    const nonSettingsFiles: File[] = [];\n\n    for (const file of files) {\n        if (isSettingsFile(file.name)) {\n            settingsFiles.push(file);\n        } else {\n            nonSettingsFiles.push(file);\n        }\n    }\n\n    if (settingsFiles.length > MAX_SETTINGS_FILES) {\n        console.warn(`Too many settings files (${settingsFiles.length}/${MAX_SETTINGS_FILES})`);\n\n        settingsFiles.length = MAX_SETTINGS_FILES;\n    }\n\n    let error: unknown;\n\n    const settingsArray: ModelSettings[] = [];\n\n    await Promise.all(settingsFiles.map(\n        async settingsFile => {\n            try {\n                const partialFiles = [settingsFile, ...nonSettingsFiles];\n\n                const settings = await FileLoader.createSettings(partialFiles);\n\n                settings.validateFiles(partialFiles.map(file => file.webkitRelativePath));\n\n                settingsArray.push(settings);\n            } catch (e) {\n                // just care about the first error\n                error = error || e;\n\n                console.warn(e);\n            }\n        },\n    ));\n\n    // it's OK when there's at least one valid settings file\n    if (!settingsArray.length) {\n        throw error;\n    }\n\n    return settingsArray;\n}\n\nfunction createFakeSettings(files: File[]): ModelSettings {\n    const mocFiles = files.filter(file => isMocFile(file.name));\n\n    if (mocFiles.length !== 1) {\n        const fileList = mocFiles.length ? `(${mocFiles.map(f => `\"${f}\"`).join(',')})` : '';\n\n        throw new Error(`Expected exactly one moc file, got ${mocFiles.length} ${fileList}`);\n    }\n\n    const mocFile = mocFiles[0].webkitRelativePath;\n    const modelName = basename(mocFile).replace(/\\.moc3?/, '');\n\n    const filePaths = files.map(file => file.webkitRelativePath);\n\n    const textures = filePaths.filter(f => f.endsWith('.png'));\n\n    if (!textures.length) {\n        throw new Error('Textures not found');\n    }\n\n    const motions = filePaths.filter(f => f.endsWith('.mtn') || f.endsWith('.motion3.json'));\n    const physics = filePaths.find(f => f.includes('physics'));\n    const pose = filePaths.find(f => f.includes('pose'));\n\n    let settings: ModelSettings;\n\n    if (isMocFileV2(mocFile)) {\n        settings = new Cubism2ModelSettings({\n            url: modelName + '.model.json',\n            textures, pose, physics,\n            model: mocFile,\n            motions: motions.length\n                ? {\n                    '': motions.map(motion => ({ file: motion })),\n                }\n                : undefined,\n        });\n    } else {\n        settings = new Cubism4ModelSettings({\n            url: modelName + '.model3.json',\n            Version: 3,\n            FileReferences: {\n                Moc: mocFile,\n                Textures: textures,\n                Physics: physics,\n                Pose: pose,\n                Motions: motions.length\n                    ? {\n                        '': motions.map(motion => ({ File: motion })),\n                    }\n                    : undefined,\n            },\n        });\n    }\n\n    settings.name = modelName;\n\n    // provide this property for FileLoader\n    (settings as any)._objectURL = 'DontTouchMe://' + settings.url;\n\n    return settings;\n}\n","import { readAsBase64 } from '@/utils/file';\nimport { EventEmitter } from '@pixi/utils';\n\nconst BG_STORAGE_KEY = '_bg';\n\nexport namespace Background {\n    let currentObjectURL = '';\n\n    let styleElement: HTMLStyleElement | undefined;\n\n    export const emitter = new EventEmitter();\n\n    export let current: string = '';\n\n    export async function set(file: File) {\n        const objectURL = URL.createObjectURL(file);\n\n        document.body.style.backgroundImage = `url(${objectURL})`;\n\n        current = file.name;\n\n        emitter.emit('change', current);\n\n        currentObjectURL = objectURL;\n\n        const base64 = await readAsBase64(file);\n\n        if (currentObjectURL === objectURL) {\n            localStorage.setItem(BG_STORAGE_KEY, base64);\n        }\n\n        URL.revokeObjectURL(objectURL);\n    }\n\n    export function reset() {\n        current = '';\n        document.body.style.backgroundImage = '';\n        document.body.style.backgroundColor = '#222222';\n        localStorage.removeItem(BG_STORAGE_KEY);\n\n        if (styleElement) {\n            document.head.removeChild(styleElement);\n            styleElement = undefined;\n        }\n\n        emitter.emit('change', current);\n    }\n\n    function loadBackground() {\n        styleElement = document.createElement('style');\n\n        const dataURL = localStorage.getItem('_bg');\n\n        if (dataURL) {\n            styleElement.innerText = `body {background-image: url(${dataURL});}`;\n\n            current = '(local file)';\n        } else {\n            styleElement.innerText = `body {background-color: #222222;}`;\n        }\n\n        document.head.appendChild(styleElement);\n        document.body.style.backgroundSize = 'cover';\n    }\n\n    loadBackground();\n}\n","\nimport Vue from 'vue';\nimport { uploadFiles } from '@/app/upload';\nimport { isDraggingFile, readFiles } from '@/utils/file';\nimport { ExtendedFileList } from 'pixi-live2d-display';\nimport { Background } from '@/tools/Background';\nimport { App } from '@/app/App';\n\nexport default Vue.extend({\n    name: \"DropZone\",\n\n    data: () => ({\n        draggingOver: false,\n    }),\n    created() {\n        document.ondragenter = e => isDraggingFile(e) && (this.draggingOver = true);\n        document.ondragleave = e => isDraggingFile(e) && (this.draggingOver = !!e.relatedTarget);\n        document.ondragover = e => isDraggingFile(e) && e.preventDefault();\n        document.ondrop = e => isDraggingFile(e) && this.drop(e);\n    },\n    methods: {\n        async drop(e: DragEvent) {\n            e.preventDefault();\n\n            this.draggingOver = false;\n\n            if (e.dataTransfer?.items.length) {\n                const files = await readFiles(e.dataTransfer.items);\n\n                if (files.length === 1 && files[0].type.includes('image')) {\n                    Background.set(files[0]).catch(console.warn);\n                } else {\n                    this.uploadModel(files).then();\n                }\n            }\n        },\n        async uploadModel(files: File[]) {\n            try {\n                const settingsArray = await uploadFiles(files);\n\n                let id: number;\n\n                if (settingsArray.length) {\n                    for (const settings of settingsArray) {\n                        const fileList = files.slice() as ExtendedFileList;\n\n                        fileList.settings = settings;\n\n                        id = App.addModel(fileList);\n                    }\n                } else {\n                    id = App.addModel(files);\n                }\n\n                this.$emit('create', id!);\n            } catch (e) {\n                (e as Error).message = 'Failed to load model: ' + (e as Error).message;\n\n                this.$emit('error', e);\n            }\n        },\n    },\n});\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./DropZone.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./DropZone.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./DropZone.vue?vue&type=template&id=8eedab48&scoped=true&\"\nimport script from \"./DropZone.vue?vue&type=script&lang=ts&\"\nexport * from \"./DropZone.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./DropZone.vue?vue&type=style&index=0&id=8eedab48&prod&scoped=true&lang=stylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8eedab48\",\n  null\n  \n)\n\nexport default component.exports","import { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VSlider } from 'vuetify/lib/components/VSlider';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VSubheader } from 'vuetify/lib/components/VSubheader';\nimport { VSwitch } from 'vuetify/lib/components/VSwitch';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"settings pa-3 flex-column flex-grow-1\"},[_c('div',[_c(VSlider,{staticClass:\"mt-4 mb-10\",attrs:{\"dense\":\"\",\"prepend-icon\":\"mdi-volume-high\",\"messages\":~~(_vm.volume*100)+'%',\"min\":\"0\",\"max\":\"1\",\"step\":\"0.02\"},model:{value:(_vm.volume),callback:function ($$v) {_vm.volume=$$v},expression:\"volume\"}}),_c(VSwitch,{staticClass:\"v-input--reverse\",attrs:{\"label\":\"Show hit area frames\"},model:{value:(_vm.hitAreaFrames),callback:function ($$v) {_vm.hitAreaFrames=$$v},expression:\"hitAreaFrames\"}}),_c(VSwitch,{staticClass:\"v-input--reverse\",attrs:{\"label\":\"Show model frames\"},model:{value:(_vm.modelFrame),callback:function ($$v) {_vm.modelFrame=$$v},expression:\"modelFrame\"}}),_c(VSwitch,{staticClass:\"v-input--reverse\",attrs:{\"label\":\"Show stats\"},model:{value:(_vm.stats),callback:function ($$v) {_vm.stats=$$v},expression:\"stats\"}}),(_vm.currentBackground)?[_c(VDivider),_c(VSubheader,{staticClass:\"px-0\"},[_vm._v(\"Background\")]),_c('div',{staticClass:\"mt-2 d-flex align-center\"},[_c('span',[_vm._v(_vm._s(_vm.currentBackground))]),_c(VSpacer),_c(VBtn,{attrs:{\"color\":\"secondary\"},on:{\"click\":_vm.resetBackground}},[_vm._v(\"Reset\")])],1)]:_vm._e()],2),_c(VSpacer),_c(VDivider),_c('div',{staticClass:\"pt-4 d-flex align-center\"},[_c(VIcon,{staticClass:\"mr-2\"},[_vm._v(\"mdi-github\")]),_vm._m(0)],1),_c('span',{staticClass:\"pt-4 body-2 text--secondary\"},[_vm._v(\"Last built: \"+_vm._s(_vm.lastUpdated))])],1)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('span',[_vm._v(\"View source or report bugs on \"),_c('a',{staticClass:\"text-decoration-none\",attrs:{\"href\":\"https://github.com/andatoshiki/toshiki-live2d-viewer\"}},[_vm._v(\"GitHub\")])])\n}]\n\nexport { render, staticRenderFns }","\nimport Vue from 'vue';\nimport { Background } from '@/tools/Background';\nimport { App } from '@/app/App';\n\nexport default Vue.extend({\n    name: \"Settings\",\n    data: () => ({\n        volume: 0,\n        hitAreaFrames: false,\n        modelFrame: false,\n        stats: false,\n        lastUpdated: new Date(__BUILD_TIME__).toLocaleString(),\n        currentBackground: Background.current,\n    }),\n    watch: {\n        stats(value: boolean) {\n            App.showStats = value;\n        },\n        volume(value: number) {\n            App.volume = value;\n        },\n        hitAreaFrames(value: boolean) {\n            App.showHitAreaFrames = value;\n        },\n        modelFrame(value: boolean) {\n            App.showModelFrame = value;\n        },\n    },\n    created() {\n        this.stats = App.showStats;\n        this.volume = App.volume;\n        this.hitAreaFrames = App.showHitAreaFrames;\n        this.modelFrame = App.showModelFrame;\n\n        Background.emitter.on('change', this.backgroundChanged, this);\n    },\n    methods: {\n        resetBackground() {\n            Background.reset();\n        },\n        backgroundChanged(background: string) {\n            this.currentBackground = background;\n        },\n    },\n    beforeDestroy() {\n        Background.emitter.off('change', this.backgroundChanged);\n    },\n});\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Settings.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Settings.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Settings.vue?vue&type=template&id=2f6b920b&scoped=true&\"\nimport script from \"./Settings.vue?vue&type=script&lang=ts&\"\nexport * from \"./Settings.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Settings.vue?vue&type=style&index=0&id=2f6b920b&prod&scoped=true&lang=stylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2f6b920b\",\n  null\n  \n)\n\nexport default component.exports","import { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\nimport { VTooltip } from 'vuetify/lib/components/VTooltip';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c(VDialog,{attrs:{\"width\":\"1000\",\"max-width\":\"90vw\",\"value\":_vm.value},on:{\"input\":function($event){return _vm.$emit('input',$event)}}},[_c(VCard,{staticClass:\"d-flex flex-column\",attrs:{\"height\":\"90vh\"}},[_c(VToolbar,{staticClass:\"flex-grow-0\",attrs:{\"color\":\"primary\",\"flat\":\"\",\"dense\":\"\"}},[_c(VToolbarTitle,[_vm._v(\"Model Info\")]),_c(VSpacer),_c(VTooltip,{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on, attrs }){return [_c(VBtn,_vm._g(_vm._b({attrs:{\"icon\":\"\"},on:{\"click\":_vm.log}},'v-btn',attrs,false),on),[_c(VIcon,[_vm._v(\"mdi-console\")])],1)]}}])},[_c('span',[_vm._v(\"Print to console\")])]),_c(VBtn,{attrs:{\"icon\":\"\"},on:{\"click\":function($event){return _vm.$emit('input',false)}}},[_c(VIcon,[_vm._v(\"mdi-close\")])],1)],1),_c(VCardText,{staticClass:\"pa-8 overflow-auto\"},[_c('div',{staticClass:\"mb-6 text-no-wrap\"},[_vm._v(\"URL: \"+_vm._s(_vm.url))]),_c('pre',{staticClass:\"code\"},[_vm._v(_vm._s(_vm.settingsJSON))])])],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport { App } from '@/app/App';\nimport Vue from 'vue';\n\nexport default Vue.extend({\n    name: \"ModelInfo\",\n    props: {\n        value: Boolean,\n        id: Number,\n    },\n    data: () => ({\n        url: '',\n        settingsJSON: '',\n    }),\n    watch: {\n        value(value: boolean) {\n            if (value) {\n                const model = App.getModel(this.id);\n                const settings = model?.pixiModel?.internalModel.settings;\n\n                this.url = model?.url || '';\n                this.settingsJSON = JSON.stringify(settings?.json || {}, null, 2);\n            }\n        },\n    },\n    methods: {\n        log() {\n            console.log(JSON.parse(this.settingsJSON));\n        },\n    },\n});\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ModelInfo.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ModelInfo.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ModelInfo.vue?vue&type=template&id=5f9f4e32&scoped=true&\"\nimport script from \"./ModelInfo.vue?vue&type=script&lang=ts&\"\nexport * from \"./ModelInfo.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ModelInfo.vue?vue&type=style&index=0&id=5f9f4e32&prod&scoped=true&lang=stylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5f9f4e32\",\n  null\n  \n)\n\nexport default component.exports","\nimport Vue from 'vue';\nimport ModelList from './components/ModelList.vue';\nimport ModelCreation from './components/ModelCreation.vue';\nimport ModelEditor from '@/components/ModelEditor.vue';\nimport DropZone from '@/components/DropZone.vue';\nimport Settings from '@/components/Settings.vue';\nimport ModelInfo from '@/components/ModelInfo.vue';\nimport { Background } from '@/tools/Background';\nimport { App } from '@/app/App';\n\nexport default Vue.extend({\n    name: 'App',\n    components: { ModelList, ModelCreation, ModelEditor, DropZone, ModelInfo, Settings },\n    data: () => ({\n        drawer: true,\n        drawerSwitch: false,\n        loading: false,\n\n        tab: -1 as number | undefined,\n\n        modelList: {\n            visible: true,\n        },\n\n        selectedModelID: 0,\n\n        modelInfoDialog: false,\n\n        creation: {\n            dialog: false,\n            result: null,\n        },\n\n        snackbar: {\n            visible: false,\n            message: '',\n            timeout: 5000,\n        },\n    }),\n    computed: {\n        drawerWidth() {\n            return this.$vuetify.breakpoint.xl ? 450 : 360;\n        },\n        modelName() {\n            return App.getModel(this.selectedModelID)?.name || '';\n        },\n    },\n    methods: {\n        showUI(show: boolean) {\n            this.drawer = show;\n            this.modelList.visible = show;\n            this.drawerSwitch = false;\n        },\n        snack(message: string, timeout: number = 5000) {\n            this.snackbar.message = message;\n            this.snackbar.timeout = timeout;\n            this.snackbar.visible = true;\n        },\n        error(e: any) {\n            const message = e && e.message || e + '';\n\n            if (message) {\n                this.snack(message, -1);\n            }\n        },\n        log(...args: any[]) {\n            console.log(...args);\n        },\n    },\n    created() {\n        // switch to the default tab\n        this.tab = undefined;\n        this.creation.dialog = true;\n\n        if (!Background.current) {\n            this.snack('Drag and drop a local image to set the background!');\n        }\n    },\n});\n","import mod from \"-!../node_modules/thread-loader/dist/cjs.js!../node_modules/ts-loader/index.js??clonedRuleSet-40.use[1]!../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/thread-loader/dist/cjs.js!../node_modules/ts-loader/index.js??clonedRuleSet-40.use[1]!../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=46b8a8cc&scoped=true&\"\nimport script from \"./App.vue?vue&type=script&lang=ts&\"\nexport * from \"./App.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&id=46b8a8cc&prod&scoped=true&lang=stylus&\"\nimport style1 from \"./App.vue?vue&type=style&index=1&id=46b8a8cc&prod&lang=stylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"46b8a8cc\",\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue';\nimport Vuetify from 'vuetify/lib';\n\nVue.use(Vuetify);\n\nexport default new Vuetify({\n    theme: {\n        dark: true,\n        options: {\n            customProperties: true,\n        },\n        themes: {\n            light: {\n                primary: '#ee44aa',\n                secondary: '#424242',\n                accent: '#82B1FF',\n                error: '#FF5252',\n                info: '#2196F3',\n                success: '#4CAF50',\n                warning: '#FFC107'\n            },\n        },\n    },\n});\n","import Vue from 'vue';\nimport VueApp from './App.vue';\nimport vuetify from './plugins/vuetify';\nimport { config } from 'pixi-live2d-display';\nimport { App } from '@/app/App';\n\nVue.config.productionTip = false;\n\nVue.directive('visible', function(el, binding) {\n    el.style.visibility = !!binding.value ? 'visible' : 'hidden';\n});\n\n(window as any).vueApp = new (Vue as any)({\n    vuetify,\n    render: (h: any) => h(VueApp),\n}).$mount('#app');\n\n(window as any).App = App;\n(window as any).config = config;\n\nconfig.logLevel = config.LOG_LEVEL_VERBOSE;\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = function(module) {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunklive2d_viewer_web\"] = self[\"webpackChunklive2d_viewer_web\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(4235); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["render","_vm","this","_c","_self","_setupProxy","VApp","VNavigationDrawer","attrs","drawerWidth","on","$event","drawer","drawerSwitch","model","value","callback","$$v","expression","VToolbar","_v","VSpacer","VBtnToggle","tab","VBtn","VIcon","staticClass","showUI","directives","name","rawName","undefined","_s","selectedModelID","creation","dialog","VTooltip","scopedSlots","_u","key","fn","_g","_b","class","valid","modelInfoDialog","modelName","VDivider","VMain","style","paddingLeft","VContainer","modelList","visible","$set","error","VSnackbar","snackbar","timeout","message","staticRenderFns","V","show","models","length","VSheet","VItemGroup","selectedIndex","select","_l","i","VItem","id","active","toggle","VCard","VImg","thumbnail","paneHeight","aspectRatio","VRow","VProgressCircular","proxy","stopPropagation","remove","_e","async","ping","url","fetch","ok","e","isSettingsFileV2","file","endsWith","isSettingsFileV3","isSettingsFile","isMocFileV2","isMocFileV3","isMocFile","uid","JSDELIVR_PREFIX","tasks","Map","rootNodes","map","repo","children","files","modelCount","settingsJSONs","getRootNodes","loadRootNode","node","includes","Promise","resolve","get","task","toLowerCase","replace","then","res","json","data","traverseNode","n","countModels","Object","assign","settings","catch","set","child","getFileURL","folder","folderPath","getNodePath","filePath","encodeURI","getAlternativeURL","repoAndFile","names","split","slice","join","search","nodes","_node","subPath","validateURL","getSettingsJSON","mocURL","startsWith","mocFile","decodeURI","forEach","context","next","resolveURL","status","console","warn","urlToJSON","defaultInit","source","Error","json3","FileReferences","Moc","Motions","motionFile","File","json2","motions","jsonText","text","replaceJSONText","patchJSON","setSingleMotionAsIdle","log","live2dModel","emit","patch","patches","patchInternalModel","internalModel","call","textures","Array","isArray","realArray","values","tex","extractCubism2IdleMotions","idle","motion0","fileExists","Textures","tex0Exists","push","extractCubism4IdleMotions","correctTexture","texture","all","motionGroup","motion","filter","Idle","prop","keys","snakeCase","toUpperCase","removeSoundDefs","keywords","idleMotions","group","entries","keyword","unionBy","sound","jsZip","path","paths","relativePath","fileName","lastIndexOf","blob","Filter","target","filterNames","filters","update","dt","Noise","seed","Math","random","CRT","time","release","Outline","Pixelate","lineWidth","lineContrast","vignetting","Ascii","Alpha","Live2DModel","constructor","super","backgroundVisible","currentMotionStartTime","performance","now","currentMotionDuration","hitAreaFrames","background","alpha","once","_init","addChild","width","height","anchor","startHitMotion","motionManager","index","elapsedTime","motionGroups","_loopDurationSeconds","getDurationMSec","expressionManager","originalStartMotion","_setExpression","expressions","indexOf","reserveExpressionIndex","defineProperty","hitAreaNames","area","possibleGroups","possibleGroup","definitions","updateTransform","_render","renderer","destroy","options","draggable","_model","onPointerDown","onPointerMove","onPointerUp","dragging","_pointerX","global","x","_pointerY","y","position","StageState","factoryContext","ModelLoadingState","stages","settingsJSON","PENDING","NOT_AVAILABLE","pose","physics","updateText","watch","complete","stage","COMPLETED","state","mark","FAILED","lowerCase","Boolean","THUMBNAIL","ModelEntity","_scaleX","_scaleY","_rotation","_zIndex","loadingState","loadModel","pixiModel","modelLoaded","updateFilters","initThumbnail","hitAreaFramesVisible","canvas","plugins","extract","toBlob","URL","createObjectURL","fit","scale","min","round","scaleX","scaleY","rotate","rotation","setZIndex","zIndex","setVisible","revokeObjectURL","save","propertyKey","descriptor","saveValue","loadValue","localStorage","setItem","JSON","stringify","defaultValue","getItem","parse","PixiApp","stats","view","document","getElementById","resizeTo","window","antialias","backgroundAlpha","ticker","add","begin","deltaMS","end","showPanel","dom","display","App","static","pixiApp","initModel","find","m","showModelFrame","showHitAreaFrames","splice","removeChild","showStats","_showStats","body","appendChild","parentElement","volume","_volume","_showModelFrame","_showHitAreaFrames","props","Number","computed","$vuetify","breakpoint","xl","findIndex","created","methods","$emit","removeModel","component","VDialog","create","VTextField","urlMessages","urlError","type","_k","keyCode","apply","arguments","dropHelpDialog","picker","submit","VCol","VTreeview","fetchModels","activeFolders","tree","folderOpened","open","item","VChip","VListItemGroup","selectedFileIndex","VListItem","nativeOn","VList","openedFolders","alert","activeFolderFiles","oldValue","hasChanged","xor","diff","args","components","ModelPicker","test","addModel","VListGroup","VSlider","String","rotationDeg","motionCount","reduce","sum","VSubheader","motionState","currentGroup","currentIndex","startMotion","VListItemIcon","reservedGroup","reservedIndex","reservedIdleGroup","reservedIdleIndex","motionExpand","currentExpressionIndex","setExpression","pendingExpressionIndex","VCheckbox","default","motionProgressTimerID","hasPixiModel","PI","immediate","handler","updateModel","mounted","setInterval","updateMotionProgress","resetModel","getModel","pixiModelLoaded","off","expressionSet","expressionReserved","motionLoadError","expressionLoadError","currentExpression","$el","startTime","duration","progress","clamp","setProperty","beforeDestroy","clearInterval","draggingOver","nonNullableFilter","array","basename","pop","isDraggingFile","event","dataTransfer","types","some","readFiles","dataTransferItemList","webkitGetAsEntry","readEntries","entry","isFile","readFileEntry","isDirectory","subEntries","readDirEntry","dirEntry","reject","createReader","fileEntry","fullPath","readAsBase64","reader","FileReader","onload","result","onerror","readAsDataURL","MAX_SETTINGS_FILES","defaultCreateSettings","uploadFiles","createSettings","createFakeSettings","settingsFiles","nonSettingsFiles","settingsArray","settingsFile","partialFiles","validateFiles","webkitRelativePath","mocFiles","fileList","f","filePaths","Version","Physics","Pose","_objectURL","BG_STORAGE_KEY","Background","styleElement","currentObjectURL","objectURL","backgroundImage","current","emitter","base64","reset","backgroundColor","removeItem","head","loadBackground","createElement","dataURL","innerText","backgroundSize","ondragenter","ondragleave","relatedTarget","ondragover","preventDefault","ondrop","drop","items","uploadModel","VSwitch","modelFrame","currentBackground","resetBackground","_m","lastUpdated","Date","toLocaleString","backgroundChanged","ModelList","ModelCreation","ModelEditor","DropZone","ModelInfo","Settings","loading","snack","theme","dark","customProperties","themes","light","primary","secondary","accent","info","success","warning","el","binding","visibility","vueApp","vuetify","h","$mount","config","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","loaded","__webpack_modules__","deferred","O","chunkIds","priority","notFulfilled","Infinity","fulfilled","j","every","r","getter","__esModule","d","a","definition","o","enumerable","g","globalThis","Function","obj","prototype","hasOwnProperty","Symbol","toStringTag","nmd","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}